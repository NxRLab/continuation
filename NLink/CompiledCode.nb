(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Mathematica 9.0' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       157,          7]
NotebookDataLength[     73494,       1419]
NotebookOptionsPosition[     72507,       1380]
NotebookOutlinePosition[     72885,       1396]
CellTagsIndexPosition[     72842,       1393]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{

Cell[CellGroupData[{
Cell["Begin Package", "Section",
 CellChangeTimes->{{3.5914870039053636`*^9, 3.591487004222381*^9}}],

Cell[BoxData[{
 RowBox[{"BeginPackage", "[", "\"\<NLink`\>\"", "]"}], "\[IndentingNewLine]", 
 RowBox[{"Begin", "[", "\"\<`Private`\>\"", "]"}]}], "Input",
 InitializationCell->True,
 CellChangeTimes->{
  3.5844197483839703`*^9, {3.5844250604318256`*^9, 3.5844250721475377`*^9}, {
   3.5844251233785*^9, 3.5844251234877005`*^9}, {3.5844253988774505`*^9, 
   3.5844254390946617`*^9}, {3.5844254919948354`*^9, 3.5844254990149255`*^9}, 
   3.584425543397398*^9, {3.584425574800518*^9, 3.584425581945394*^9}, {
   3.5844256737523947`*^9, 3.5844257230957055`*^9}, {3.5844279668250203`*^9, 
   3.5844279860756264`*^9}, {3.584428374816189*^9, 3.584428378919037*^9}, {
   3.5914865865694637`*^9, 3.591486626255737*^9}, {3.5914867823906765`*^9, 
   3.5914867827646985`*^9}, {3.591486817520689*^9, 3.5914868205858636`*^9}, {
   3.591486965884186*^9, 3.5914869664642324`*^9}, {3.5915022447717495`*^9, 
   3.5915022459698176`*^9}, {3.591542902441803*^9, 3.591542929051241*^9}, {
   3.59154329988008*^9, 3.591543327692632*^9}, 3.5915439898189273`*^9, {
   3.5915443331789765`*^9, 3.5915443348977413`*^9}, {3.591544409656703*^9, 
   3.591544412687962*^9}, {3.591721260928192*^9, 3.591721326772053*^9}, {
   3.5922422663532963`*^9, 3.592242267056429*^9}, {3.5922818277082567`*^9, 
   3.59228183637475*^9}, {3.593367653922082*^9, 3.5933676540470953`*^9}, {
   3.60224862205973*^9, 3.602248628162079*^9}}]
}, Open  ]],

Cell[CellGroupData[{

Cell["Inlined functions", "Section",
 CellChangeTimes->{{3.5914870039053636`*^9, 3.591487004222381*^9}, {
  3.6031948693446865`*^9, 3.6031948721538477`*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"Precompile", "[", "]"}], " ", ":=", " ", 
   RowBox[{"(", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"Off", "[", 
      StyleBox[
       RowBox[{"Part", "::", "partd"}], "MessageName"], "]"}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"cf", "[", "1", "]"}], " ", "=", " ", 
      RowBox[{"With", "[", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"A", " ", "=", " ", 
          RowBox[{"N", "@", 
           RowBox[{"mx", "[", 
            RowBox[{"Table", "[", 
             RowBox[{
              RowBox[{
              "x", "\[LeftDoubleBracket]", "i", "\[RightDoubleBracket]"}], 
              ",", " ", 
              RowBox[{"{", 
               RowBox[{"i", ",", " ", "nm"}], "}"}]}], "]"}], "]"}]}]}], 
         "}"}], ",", " ", 
        RowBox[{"Compile", "[", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{"{", 
            RowBox[{"x", ",", " ", "_Real", ",", " ", "1"}], "}"}], "}"}], 
          ",", " ", "A"}], "]"}]}], "]"}]}], ";", "\[IndentingNewLine]", 
     "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"cf", "[", "2", "]"}], " ", "=", " ", 
      RowBox[{"With", "[", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"A", " ", "=", " ", 
          RowBox[{"N", "@", 
           RowBox[{"mxstar", "[", 
            RowBox[{"Table", "[", 
             RowBox[{
              RowBox[{
              "x", "\[LeftDoubleBracket]", "i", "\[RightDoubleBracket]"}], 
              ",", " ", 
              RowBox[{"{", 
               RowBox[{"i", ",", " ", "nm"}], "}"}]}], "]"}], "]"}]}]}], 
         "}"}], ",", " ", 
        RowBox[{"Compile", "[", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{"{", 
            RowBox[{"x", ",", " ", "_Real", ",", " ", "1"}], "}"}], "}"}], 
          ",", " ", "A"}], "]"}]}], "]"}]}], ";", "\[IndentingNewLine]", 
     "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"cf", "[", "3", "]"}], " ", "=", " ", 
      RowBox[{"With", "[", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"A", " ", "=", " ", 
          RowBox[{"N", "[", 
           RowBox[{"Xip", "[", "x", "]"}], "]"}]}], "}"}], ",", " ", 
        RowBox[{"Compile", "[", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{"{", 
            RowBox[{"x", ",", " ", "_Real", ",", " ", "1"}], "}"}], "}"}], 
          ",", " ", "A"}], "]"}]}], "]"}]}], ";", "\[IndentingNewLine]", 
     "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"cf", "[", "4", "]"}], " ", "=", " ", 
      RowBox[{"With", "[", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"A", " ", "=", " ", 
          RowBox[{"N", "[", 
           RowBox[{"s", "[", "x", "]"}], "]"}]}], "}"}], ",", " ", 
        RowBox[{"Compile", "[", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{"{", 
            RowBox[{"x", ",", " ", "_Real", ",", " ", "1"}], "}"}], "}"}], 
          ",", " ", "A"}], "]"}]}], "]"}]}], ";", "\[IndentingNewLine]", 
     "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"cf", "[", "5", "]"}], " ", "=", " ", 
      RowBox[{"With", "[", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"A", " ", "=", " ", 
          RowBox[{"N", "[", 
           RowBox[{"sdot", "[", "x", "]"}], "]"}]}], "}"}], ",", " ", 
        RowBox[{"Compile", "[", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{"{", 
            RowBox[{"x", ",", " ", "_Real", ",", " ", "1"}], "}"}], "}"}], 
          ",", " ", "A"}], "]"}]}], "]"}]}], ";", "\[IndentingNewLine]", 
     "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"cf", "[", "6", "]"}], " ", "=", " ", 
      RowBox[{"With", "[", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"A", " ", "=", " ", 
          RowBox[{"N", "[", 
           RowBox[{"r", "[", "x", "]"}], "]"}]}], "}"}], ",", " ", 
        RowBox[{"Compile", "[", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{"{", 
            RowBox[{"x", ",", " ", "_Real", ",", " ", "1"}], "}"}], "}"}], 
          ",", " ", "A"}], "]"}]}], "]"}]}], ";", "\[IndentingNewLine]", 
     "\[IndentingNewLine]", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{"n\[Lambda]", " ", ">", " ", "0"}], ",", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{
         RowBox[{"cf", "[", 
          RowBox[{"-", "1"}], "]"}], " ", "=", " ", 
         RowBox[{"With", "[", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{"A", " ", "=", " ", 
             RowBox[{"N", "@", 
              RowBox[{"dmx", "[", 
               RowBox[{"Table", "[", 
                RowBox[{
                 RowBox[{
                 "x", "\[LeftDoubleBracket]", "i", "\[RightDoubleBracket]"}], 
                 ",", " ", 
                 RowBox[{"{", 
                  RowBox[{"i", ",", " ", "nm"}], "}"}]}], "]"}], "]"}]}]}], 
            "}"}], ",", " ", 
           RowBox[{"Compile", "[", 
            RowBox[{
             RowBox[{"{", 
              RowBox[{"{", 
               RowBox[{"x", ",", " ", "_Real", ",", " ", "1"}], "}"}], "}"}], 
             ",", " ", "A"}], "]"}]}], "]"}]}], ";", "\[IndentingNewLine]", 
        "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{"cf", "[", 
          RowBox[{"-", "2"}], "]"}], " ", "=", " ", 
         RowBox[{"With", "[", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{"A", " ", "=", " ", 
             RowBox[{"N", "@", 
              RowBox[{"dmxstar", "[", 
               RowBox[{"Table", "[", 
                RowBox[{
                 RowBox[{
                 "x", "\[LeftDoubleBracket]", "i", "\[RightDoubleBracket]"}], 
                 ",", " ", 
                 RowBox[{"{", 
                  RowBox[{"i", ",", " ", "nm"}], "}"}]}], "]"}], "]"}]}]}], 
            "}"}], ",", " ", 
           RowBox[{"Compile", "[", 
            RowBox[{
             RowBox[{"{", 
              RowBox[{"{", 
               RowBox[{"x", ",", " ", "_Real", ",", " ", "1"}], "}"}], "}"}], 
             ",", " ", "A"}], "]"}]}], "]"}]}], ";", "\[IndentingNewLine]", 
        "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{"cf", "[", 
          RowBox[{"-", "3"}], "]"}], " ", "=", " ", 
         RowBox[{"With", "[", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{"A", " ", "=", " ", 
             RowBox[{"N", "[", 
              RowBox[{"dXip", "[", 
               RowBox[{"x", ",", " ", "dx"}], "]"}], "]"}]}], "}"}], ",", " ", 
           RowBox[{"Compile", "[", 
            RowBox[{
             RowBox[{"{", 
              RowBox[{
               RowBox[{"{", 
                RowBox[{"x", ",", " ", "_Real", ",", " ", "1"}], "}"}], ",", 
               " ", 
               RowBox[{"{", 
                RowBox[{"dx", ",", " ", "_Real", ",", " ", "2"}], "}"}]}], 
              "}"}], ",", " ", "A"}], "]"}]}], "]"}]}], ";", 
        "\[IndentingNewLine]", "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{"cf", "[", 
          RowBox[{"-", "4"}], "]"}], " ", "=", " ", 
         RowBox[{"With", "[", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{"A", " ", "=", " ", 
             RowBox[{"N", "[", 
              RowBox[{"ds", "[", 
               RowBox[{"x", ",", " ", "dx"}], "]"}], "]"}]}], "}"}], ",", " ", 
           RowBox[{"Compile", "[", 
            RowBox[{
             RowBox[{"{", 
              RowBox[{
               RowBox[{"{", 
                RowBox[{"x", ",", " ", "_Real", ",", " ", "1"}], "}"}], ",", 
               " ", 
               RowBox[{"{", 
                RowBox[{"dx", ",", " ", "_Real", ",", " ", "2"}], "}"}]}], 
              "}"}], ",", " ", "A"}], "]"}]}], "]"}]}], ";", 
        "\[IndentingNewLine]", "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{"cf", "[", 
          RowBox[{"-", "5"}], "]"}], " ", "=", " ", 
         RowBox[{"With", "[", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{"A", " ", "=", " ", 
             RowBox[{"N", "[", 
              RowBox[{"dsdot", "[", 
               RowBox[{"x", ",", " ", "dx"}], "]"}], "]"}]}], "}"}], ",", " ", 
           RowBox[{"Compile", "[", 
            RowBox[{
             RowBox[{"{", 
              RowBox[{
               RowBox[{"{", 
                RowBox[{"x", ",", " ", "_Real", ",", " ", "1"}], "}"}], ",", 
               " ", 
               RowBox[{"{", 
                RowBox[{"dx", ",", " ", "_Real", ",", " ", "2"}], "}"}]}], 
              "}"}], ",", " ", "A"}], "]"}]}], "]"}]}], ";", 
        "\[IndentingNewLine]", "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{"cf", "[", 
          RowBox[{"-", "6"}], "]"}], " ", "=", " ", 
         RowBox[{"With", "[", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{"A", " ", "=", " ", 
             RowBox[{"N", "[", 
              RowBox[{"dr", "[", 
               RowBox[{"x", ",", " ", "dx"}], "]"}], "]"}]}], "}"}], ",", " ", 
           RowBox[{"Compile", "[", 
            RowBox[{
             RowBox[{"{", 
              RowBox[{
               RowBox[{"{", 
                RowBox[{"x", ",", " ", "_Real", ",", " ", "1"}], "}"}], ",", 
               " ", 
               RowBox[{"{", 
                RowBox[{"dx", ",", " ", "_Real", ",", " ", "2"}], "}"}]}], 
              "}"}], ",", " ", "A"}], "]"}]}], "]"}]}], ";"}]}], 
      "\[IndentingNewLine]", "]"}], ";", "\[IndentingNewLine]", 
     RowBox[{"On", "[", 
      StyleBox[
       RowBox[{"Part", "::", "partd"}], "MessageName"], "]"}], ";"}], 
    "\[IndentingNewLine]", ")"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.59333159514917*^9, 3.593331595568194*^9}, {
  3.5933317398224573`*^9, 3.593331778065648*^9}, {3.593366793475771*^9, 
  3.5933667937882695`*^9}, {3.6031490083234243`*^9, 3.603149019851101*^9}, {
  3.603157568302624*^9, 3.6031576764108152`*^9}, {3.6031643223250556`*^9, 
  3.6031643770272074`*^9}, {3.603164410333095*^9, 3.6031644239368873`*^9}, {
  3.6031661887929416`*^9, 3.6031661907800555`*^9}, {3.603167623426098*^9, 
  3.60316762927643*^9}, {3.6031676760751104`*^9, 3.603167689169863*^9}, {
  3.6031946306210155`*^9, 3.6031946313040557`*^9}, {3.6031946815119305`*^9, 
  3.603194689203371*^9}, {3.6034211081933055`*^9, 3.6034211971504*^9}, {
  3.6034240961798377`*^9, 3.603424111023617*^9}, {3.603601285122724*^9, 
  3.6036013416689615`*^9}}]
}, Open  ]],

Cell[CellGroupData[{

Cell["Compile Templates", "Section",
 CellChangeTimes->{{3.5914870039053636`*^9, 3.591487004222381*^9}, {
  3.6031948693446865`*^9, 3.603194903724656*^9}}],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"WithTemplate", "[", "]"}], " ", ":=", " ", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"Zspatarr", " ", "=", " ", 
       RowBox[{"N", "@", "Zspat"}]}], ",", " ", 
      RowBox[{"Zdspatarr", " ", "=", " ", 
       RowBox[{"N", "@", "Zdspat"}]}], ",", " ", 
      RowBox[{"\[DoubleStruckCapitalI]arr", " ", "=", " ", 
       RowBox[{"N", "@", "\[DoubleStruckCapitalI]"}]}], ",", " ", 
      RowBox[{"d\[DoubleStruckCapitalI]arr", " ", "=", " ", 
       RowBox[{"N", "@", "d\[DoubleStruckCapitalI]"}]}], ",", " ", 
      RowBox[{"Xip", " ", "=", " ", 
       RowBox[{"cf", "[", "3", "]"}]}], ",", " ", 
      RowBox[{"dXip", " ", "=", " ", 
       RowBox[{"cf", "[", 
        RowBox[{"-", "3"}], "]"}]}], ",", " ", 
      RowBox[{"pararr", " ", "=", " ", "parent"}], ",", " ", 
      RowBox[{"nq", " ", "=", " ", "nq"}], ",", " ", 
      RowBox[{"nx", " ", "=", " ", "nx"}], ",", "  ", 
      RowBox[{"n\[Lambda]", " ", "=", " ", "n\[Lambda]"}], ",", " ", 
      RowBox[{"s", " ", "=", 
       RowBox[{"cf", "[", "4", "]"}]}], ",", " ", 
      RowBox[{"ds", " ", "=", 
       RowBox[{"cf", "[", 
        RowBox[{"-", "4"}], "]"}]}], ",", " ", 
      RowBox[{"sdot", " ", "=", 
       RowBox[{"cf", "[", "5", "]"}]}], ",", " ", 
      RowBox[{"dsdot", " ", "=", 
       RowBox[{"cf", "[", 
        RowBox[{"-", "5"}], "]"}]}], ",", " ", 
      RowBox[{"r", " ", "=", 
       RowBox[{"cf", "[", "6", "]"}]}], ",", " ", 
      RowBox[{"dr", " ", "=", 
       RowBox[{"cf", "[", 
        RowBox[{"-", "6"}], "]"}]}], ",", " ", 
      RowBox[{"ag", " ", "=", " ", 
       RowBox[{"N", "@", "ag"}]}], ",", " ", 
      RowBox[{"mx", " ", "=", " ", 
       RowBox[{"cf", "[", "1", "]"}]}], ",", " ", 
      RowBox[{"dmx", " ", "=", " ", 
       RowBox[{"cf", "[", 
        RowBox[{"-", "1"}], "]"}]}], ",", " ", 
      RowBox[{"mxstar", " ", "=", " ", 
       RowBox[{"cf", "[", "2", "]"}]}], ",", " ", 
      RowBox[{"dmxstar", " ", "=", " ", 
       RowBox[{"cf", "[", 
        RowBox[{"-", "2"}], "]"}]}], ",", " ", 
      RowBox[{"ZMarr", " ", "=", " ", 
       RowBox[{"N", "@", "ZM"}]}], ",", " ", 
      RowBox[{"ZdMarr", " ", "=", " ", 
       RowBox[{"N", "@", "ZdM"}]}], ",", 
      RowBox[{"ZJarr", " ", "=", " ", 
       RowBox[{"N", "@", "ZJ"}]}], ",", " ", 
      RowBox[{"ZdJarr", " ", "=", " ", 
       RowBox[{"N", "@", "ZdJ"}]}], ",", " ", 
      RowBox[{"bodarr", " ", "=", " ", "bodies"}], ",", " ", 
      RowBox[{"mb", " ", "=", " ", "mb"}], ",", " ", 
      RowBox[{"Zosimarr", " ", "=", " ", 
       RowBox[{"N", "@", "Zosim"}]}], ",", " ", 
      RowBox[{"Zdosimarr", " ", "=", " ", 
       RowBox[{"N", "@", "Zdosim"}]}], ",", " ", 
      RowBox[{"ncaarr", " ", "=", " ", "nca"}], ",", " ", 
      RowBox[{"znqarr", " ", "=", " ", 
       RowBox[{"N", "@", "znq"}]}], ",", " ", 
      RowBox[{"Znqarr", " ", "=", " ", 
       RowBox[{"N", "@", "Znq"}]}], ",", " ", 
      RowBox[{"zmbarr", " ", "=", " ", 
       RowBox[{"N", "@", "zmb"}]}], ",", " ", 
      RowBox[{"Zmbarr", " ", "=", " ", 
       RowBox[{"N", "@", "Zmb"}]}]}], "}"}]}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"BlockTemplate", "[", "]"}], " ", ":=", " ", 
    RowBox[{"{", 
     RowBox[{
     "parent", ",", " ", "bodies", ",", " ", "nca", ",", " ", "znq", ",", " ",
       "Znq", ",", " ", "zmb", ",", " ", "Zmb", ",", " ", "Zspat", ",", " ", 
      "Zdspat", ",", " ", "ZM", ",", " ", "ZdM", ",", " ", "ZJ", ",", " ", 
      "ZdJ", ",", " ", "Zosim", ",", " ", "Zdosim", ",", " ", "sJ", ",", " ", 
      "dsJ", ",", " ", "sJdot", ",", " ", "dsJdot", ",", " ", 
      "\[DoubleStruckCapitalI]", ",", " ", "d\[DoubleStruckCapitalI]", ",", 
      " ", "XL", ",", " ", "dXL", ",", " ", "qdd", ",", " ", "dqdd", ",", " ",
       "c", ",", " ", "dc", ",", " ", "M", ",", " ", "dM", ",", " ", "v", ",",
       " ", "dv", ",", " ", "a", ",", " ", "da", ",", " ", "f", ",", " ", 
      "df", ",", " ", "IC", ",", " ", "dIC", ",", " ", "uJ", ",", " ", "duJ", 
      ",", " ", "U", ",", " ", "dU", ",", " ", "d", ",", " ", "dd", ",", " ", 
      "ac", ",", " ", "dac", ",", " ", "J", ",", " ", "dJ", ",", " ", 
      "\[CapitalLambda]", ",", " ", "d\[CapitalLambda]", ",", " ", 
      "\[CapitalLambda]inv", ",", " ", "d\[CapitalLambda]inv", ",", " ", "Yd",
       ",", " ", "dYd", ",", " ", "YD", ",", " ", "dYD", ",", " ", "Pqdd", 
      ",", " ", "dPqdd", ",", " ", "xx", ",", " ", "uu", ",", " ", "dxx", ",",
       " ", "duu"}], "}"}]}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"FunctionTemplate", "[", "code_", "]"}], " ", ":=", " ", 
   RowBox[{"Dispatch", "[", 
    RowBox[{"Join", "[", 
     RowBox[{
      RowBox[{"DownValues", "[", "WithTemplate", "]"}], ",", " ", 
      RowBox[{"DownValues", "[", "BlockTemplate", "]"}], ",", " ", "code", 
      ",", " ", 
      RowBox[{"DownValues", "[", "Fcrb", "]"}], ",", " ", 
      RowBox[{"DownValues", "[", "Faba", "]"}], ",", " ", 
      RowBox[{"DownValues", "[", "RNEA", "]"}], ",", " ", 
      RowBox[{"DownValues", "[", "CRB", "]"}], ",", "  ", 
      RowBox[{"DownValues", "[", "ABA", "]"}], ",", " ", 
      RowBox[{"DownValues", "[", "LTDL", "]"}], ",", " ", 
      RowBox[{"DownValues", "[", "Minvx", "]"}], ",", " ", 
      RowBox[{"DownValues", "[", "LTinvx", "]"}], ",", " ", 
      RowBox[{"DownValues", "[", "Linvx", "]"}], ",", " ", 
      RowBox[{"DownValues", "[", "dFcrb", "]"}], ",", " ", 
      RowBox[{"DownValues", "[", "dFaba", "]"}], ",", " ", 
      RowBox[{"DownValues", "[", "dRNEA", "]"}], ",", " ", 
      RowBox[{"DownValues", "[", "tensprod", "]"}], ",", " ", 
      RowBox[{"DownValues", "[", "dXb", "]"}], ",", " ", 
      RowBox[{"DownValues", "[", "dadv", "]"}], ",", " ", 
      RowBox[{"DownValues", "[", "dvdq", "]"}], ",", " ", 
      RowBox[{"DownValues", "[", "dfdv", "]"}], ",", " ", 
      RowBox[{"DownValues", "[", "dCRB", "]"}], ",", " ", 
      RowBox[{"DownValues", "[", "dICdq", "]"}], ",", " ", 
      RowBox[{"DownValues", "[", "dXB", "]"}], ",", " ", 
      RowBox[{"DownValues", "[", "AdX", "]"}], ",", " ", 
      RowBox[{"DownValues", "[", "AdXB", "]"}], ",", " ", 
      RowBox[{"DownValues", "[", "dLTDL", "]"}], ",", " ", 
      RowBox[{"DownValues", "[", "dMinvx", "]"}], ",", " ", 
      RowBox[{"DownValues", "[", "dLTx", "]"}], ",", " ", 
      RowBox[{"DownValues", "[", "Lx", "]"}], ",", " ", 
      RowBox[{"DownValues", "[", "LTx", "]"}], ",", " ", 
      RowBox[{"DownValues", "[", "dLx", "]"}], ",", " ", 
      RowBox[{"DownValues", "[", "P", "]"}], ",", " ", 
      RowBox[{"DownValues", "[", "Josim", "]"}], ",", " ", 
      RowBox[{"DownValues", "[", "YdYD", "]"}], ",", " ", 
      RowBox[{"DownValues", "[", "OSIM", "]"}], ",", " ", 
      RowBox[{"DownValues", "[", "Jx", "]"}], ",", " ", 
      RowBox[{"DownValues", "[", "JTx", "]"}], ",", " ", 
      RowBox[{"DownValues", "[", "dP", "]"}], ",", " ", 
      RowBox[{"DownValues", "[", "dJosim", "]"}], ",", " ", 
      RowBox[{"DownValues", "[", "AdXb", "]"}], ",", " ", 
      RowBox[{"DownValues", "[", "dYdYD", "]"}], ",", " ", 
      RowBox[{"DownValues", "[", "dOSIM", "]"}], ",", " ", 
      RowBox[{"DownValues", "[", "dJx", "]"}], ",", " ", 
      RowBox[{"DownValues", "[", "dJTx", "]"}], ",", " ", 
      RowBox[{"DownValues", "[", "JX", "]"}], ",", " ", 
      RowBox[{"DownValues", "[", "JTX", "]"}]}], "]"}], "]"}]}], 
  ";"}]}], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.603149330490893*^9, 3.603149332954015*^9}, {
   3.6031531725788975`*^9, 3.603153221650704*^9}, {3.6031534019460354`*^9, 
   3.6031534299966383`*^9}, {3.603153519085744*^9, 3.6031535253210974`*^9}, {
   3.603153557385933*^9, 3.6031535579949665`*^9}, {3.603153600069378*^9, 
   3.6031536941647663`*^9}, {3.603153772140236*^9, 3.603153772553257*^9}, {
   3.6031538965243587`*^9, 3.6031539823302684`*^9}, {3.6031541011970754`*^9, 
   3.603154110948634*^9}, {3.603154142869462*^9, 3.6031542325886183`*^9}, {
   3.6031542914789715`*^9, 3.603154340350772*^9}, {3.6031543973970375`*^9, 
   3.6031544054115105`*^9}, {3.6031544423606124`*^9, 
   3.6031544451177864`*^9}, {3.6031544994568825`*^9, 3.603154786568325*^9}, {
   3.60315482256539*^9, 3.6031548668059177`*^9}, {3.6031549584171658`*^9, 
   3.6031549738150473`*^9}, {3.603155061254054*^9, 3.603155081672228*^9}, {
   3.6031551473819866`*^9, 3.603155158559623*^9}, {3.6031552016770964`*^9, 
   3.603155234109953*^9}, 3.603155281678677*^9, {3.6031554040736866`*^9, 
   3.603155415869362*^9}, {3.6031556468635874`*^9, 3.603155649162721*^9}, {
   3.603156557116717*^9, 3.603156594645867*^9}, {3.6031567357649455`*^9, 
   3.6031567894850245`*^9}, {3.603156921473586*^9, 3.603156923451696*^9}, {
   3.603156972437502*^9, 3.6031570165800266`*^9}, {3.6031570498229327`*^9, 
   3.603157065032804*^9}, {3.6031571141286154`*^9, 3.6031571424582567`*^9}, {
   3.6031572271710896`*^9, 3.603157234603535*^9}, {3.603157350109129*^9, 
   3.6031574062273436`*^9}, {3.6031574575412855`*^9, 3.603157458967377*^9}, {
   3.6031577297808723`*^9, 3.6031577864241123`*^9}, {3.6031587003674545`*^9, 
   3.603158706709818*^9}, {3.603161573911677*^9, 3.603161806290971*^9}, {
   3.603161845834235*^9, 3.603161879849183*^9}, {3.603162086269005*^9, 
   3.6031620967286034`*^9}, {3.6031621620863457`*^9, 
   3.6031622581388474`*^9}, {3.603162288876609*^9, 3.6031623520982313`*^9}, 
   3.603162449104783*^9, {3.6031625320475326`*^9, 3.603162538372896*^9}, {
   3.6031625801712894`*^9, 3.60316264118678*^9}, {3.6031626810710683`*^9, 
   3.6031626894305487`*^9}, {3.6031627240805297`*^9, 
   3.6031627365412426`*^9}, {3.6031627739063826`*^9, 
   3.6031628083613567`*^9}, {3.603162880528488*^9, 3.6031629231199474`*^9}, {
   3.6031631201102066`*^9, 3.603163155667246*^9}, {3.603163241910184*^9, 
   3.603163247392498*^9}, {3.603163405096529*^9, 3.6031634837860355`*^9}, {
   3.60316366861462*^9, 3.603163693889067*^9}, {3.6031644987241573`*^9, 
   3.603164501253302*^9}, {3.6031646311167393`*^9, 3.6031647286123223`*^9}, {
   3.6031648272569714`*^9, 3.6031650597972884`*^9}, {3.6031651894307117`*^9, 
   3.603165195489058*^9}, {3.6031653052303433`*^9, 3.603165310957674*^9}, {
   3.6031653727232265`*^9, 3.6031654039839983`*^9}, {3.6031656331621227`*^9, 
   3.6031656363343077`*^9}, {3.603165693608588*^9, 3.603165718868044*^9}, {
   3.6031659735386143`*^9, 3.6031660057884617`*^9}, {3.603166042012555*^9, 
   3.6031660890062275`*^9}, {3.603166130494603*^9, 3.603166156429088*^9}, 
   3.603166236556677*^9, {3.6031664383842354`*^9, 3.603166453556117*^9}, {
   3.6031664984206724`*^9, 3.603166499120713*^9}, {3.6031667511931486`*^9, 
   3.6031667887883015`*^9}, {3.603166825599409*^9, 3.6031668721670947`*^9}, {
   3.603167216406802*^9, 3.6031672447664104`*^9}, {3.60316753284191*^9, 
   3.6031675662688437`*^9}, {3.603167702275614*^9, 3.603167761726015*^9}, {
   3.6031694106784477`*^9, 3.603169424055215*^9}, {3.603169566930395*^9, 
   3.6031695672994146`*^9}, {3.6031696230666103`*^9, 
   3.6031696232016172`*^9}, {3.603169724795436*^9, 3.6031697249614644`*^9}, {
   3.6031698128494782`*^9, 3.603169812985487*^9}, {3.6031698831085033`*^9, 
   3.603169883316532*^9}, {3.6031700337561293`*^9, 3.6031700355122547`*^9}, {
   3.603170128837593*^9, 3.603170132011756*^9}, {3.603170245561259*^9, 
   3.6031702457112675`*^9}, {3.6031947386942053`*^9, 3.6031947414303617`*^9}, 
   3.603194779041516*^9, {3.603425525303406*^9, 3.6034255375441103`*^9}, {
   3.6034255959884524`*^9, 3.603425625111125*^9}, {3.6034266900491104`*^9, 
   3.6034266966134863`*^9}, {3.6034290163103275`*^9, 
   3.6034290212646112`*^9}, {3.6034290973599687`*^9, 3.603429113800911*^9}, {
   3.603601385703488*^9, 3.603601417721317*^9}, {3.603601461799841*^9, 
   3.603601481925994*^9}, 3.6036037369711323`*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell["Compiler", "Section",
 CellChangeTimes->{{3.5914870039053636`*^9, 3.591487004222381*^9}, {
  3.6031948693446865`*^9, 3.6031948721538477`*^9}, {3.6031949208696375`*^9, 
  3.603194921776703*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"NLinkCompile", "[", "code_", "]"}], " ", ":=", " ", 
   RowBox[{"Block", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"x", ",", " ", "u", ",", " ", "cargs", ",", " ", "ccode"}], 
      "}"}], ",", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"Precompile", "[", "]"}], ";", "\[IndentingNewLine]", 
      RowBox[{"ReleaseHold", "[", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"Hold", "[", "\[IndentingNewLine]", 
         RowBox[{"With", "[", 
          RowBox[{
           RowBox[{"WithTemplate", "[", "]"}], ",", "\[IndentingNewLine]", 
           RowBox[{"Compile", "[", 
            RowBox[{"cargs", ",", " ", "\[IndentingNewLine]", 
             RowBox[{"Block", "[", 
              RowBox[{
               RowBox[{"BlockTemplate", "[", "]"}], ",", "ccode"}], "]"}]}], 
            "\[IndentingNewLine]", "]"}]}], "\[IndentingNewLine]", "]"}], 
         "\[IndentingNewLine]", "]"}], " ", "//.", " ", 
        RowBox[{"FunctionTemplate", "[", "code", "]"}]}], 
       "\[IndentingNewLine]", "]"}]}]}], "\[IndentingNewLine]", "]"}]}], 
  ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.603149330490893*^9, 3.603149332954015*^9}, {
   3.6031531725788975`*^9, 3.603153221650704*^9}, {3.6031534019460354`*^9, 
   3.6031534299966383`*^9}, {3.603153519085744*^9, 3.6031535253210974`*^9}, {
   3.603153557385933*^9, 3.6031535579949665`*^9}, {3.603153600069378*^9, 
   3.6031536941647663`*^9}, {3.603153772140236*^9, 3.603153772553257*^9}, {
   3.6031538965243587`*^9, 3.6031539823302684`*^9}, {3.6031541011970754`*^9, 
   3.603154110948634*^9}, {3.603154142869462*^9, 3.6031542325886183`*^9}, {
   3.6031542914789715`*^9, 3.603154340350772*^9}, {3.6031543973970375`*^9, 
   3.6031544054115105`*^9}, {3.6031544423606124`*^9, 
   3.6031544451177864`*^9}, {3.6031544994568825`*^9, 3.603154786568325*^9}, {
   3.60315482256539*^9, 3.6031548668059177`*^9}, {3.6031549584171658`*^9, 
   3.6031549738150473`*^9}, {3.603155061254054*^9, 3.603155081672228*^9}, {
   3.6031551473819866`*^9, 3.603155158559623*^9}, {3.6031552016770964`*^9, 
   3.603155234109953*^9}, 3.603155281678677*^9, {3.6031554040736866`*^9, 
   3.603155415869362*^9}, {3.6031556468635874`*^9, 3.603155649162721*^9}, {
   3.603156557116717*^9, 3.603156594645867*^9}, {3.6031567357649455`*^9, 
   3.6031567894850245`*^9}, {3.603156921473586*^9, 3.603156923451696*^9}, {
   3.603156972437502*^9, 3.6031570165800266`*^9}, {3.6031570498229327`*^9, 
   3.603157065032804*^9}, {3.6031571141286154`*^9, 3.6031571424582567`*^9}, {
   3.6031572271710896`*^9, 3.603157234603535*^9}, {3.603157350109129*^9, 
   3.6031574062273436`*^9}, {3.6031574575412855`*^9, 3.603157458967377*^9}, {
   3.6031577297808723`*^9, 3.6031577864241123`*^9}, {3.6031587003674545`*^9, 
   3.603158706709818*^9}, {3.603161573911677*^9, 3.603161806290971*^9}, {
   3.603161845834235*^9, 3.603161879849183*^9}, {3.603162086269005*^9, 
   3.6031620967286034`*^9}, {3.6031621620863457`*^9, 
   3.6031622581388474`*^9}, {3.603162288876609*^9, 3.6031623520982313`*^9}, 
   3.603162449104783*^9, {3.6031625320475326`*^9, 3.603162538372896*^9}, {
   3.6031625801712894`*^9, 3.60316264118678*^9}, {3.6031626810710683`*^9, 
   3.6031626894305487`*^9}, {3.6031627240805297`*^9, 
   3.6031627365412426`*^9}, {3.6031627739063826`*^9, 
   3.6031628083613567`*^9}, {3.603162880528488*^9, 3.6031629231199474`*^9}, {
   3.6031631201102066`*^9, 3.603163155667246*^9}, {3.603163241910184*^9, 
   3.603163247392498*^9}, {3.603163405096529*^9, 3.6031634837860355`*^9}, {
   3.60316366861462*^9, 3.603163693889067*^9}, {3.6031644987241573`*^9, 
   3.603164501253302*^9}, {3.6031646311167393`*^9, 3.6031647286123223`*^9}, {
   3.6031648272569714`*^9, 3.6031650597972884`*^9}, {3.6031651894307117`*^9, 
   3.603165195489058*^9}, {3.6031653052303433`*^9, 3.603165310957674*^9}, {
   3.6031653727232265`*^9, 3.6031654039839983`*^9}, {3.6031656331621227`*^9, 
   3.6031656363343077`*^9}, {3.603165693608588*^9, 3.603165718868044*^9}, {
   3.6031659735386143`*^9, 3.6031660057884617`*^9}, {3.603166042012555*^9, 
   3.6031660890062275`*^9}, {3.603166130494603*^9, 3.603166156429088*^9}, 
   3.603166236556677*^9, {3.6031664383842354`*^9, 3.603166453556117*^9}, {
   3.6031664984206724`*^9, 3.603166499120713*^9}, {3.6031667511931486`*^9, 
   3.6031667887883015`*^9}, {3.603166825599409*^9, 3.6031668721670947`*^9}, {
   3.603167216406802*^9, 3.6031672447664104`*^9}, {3.60316753284191*^9, 
   3.6031675662688437`*^9}, {3.603167702275614*^9, 3.603167761726015*^9}, {
   3.6031694106784477`*^9, 3.603169424055215*^9}, {3.603169566930395*^9, 
   3.6031695672994146`*^9}, {3.6031696230666103`*^9, 
   3.6031696232016172`*^9}, {3.603169724795436*^9, 3.6031697249614644`*^9}, {
   3.6031698128494782`*^9, 3.603169812985487*^9}, {3.6031698831085033`*^9, 
   3.603169883316532*^9}, {3.6031700337561293`*^9, 3.6031700355122547`*^9}, {
   3.603170128837593*^9, 3.603170132011756*^9}, {3.603170245561259*^9, 
   3.6031702457112675`*^9}, {3.6031947386942053`*^9, 3.6031947414303617`*^9}, 
   3.603194779041516*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell["End Package", "Section"],

Cell[BoxData[{
 RowBox[{"End", "[", "]"}], "\[IndentingNewLine]", 
 RowBox[{"EndPackage", "[", "]"}]}], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.591486801989799*^9, 3.5914868026208353`*^9}}],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"compileFdF", "[", "]"}], " ", ":=", " ", 
   RowBox[{"Block", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"x", ",", " ", "dx", ",", " ", "u", ",", " ", "du"}], "}"}], 
     ",", "\[IndentingNewLine]", 
     RowBox[{"ReleaseHold", "[", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"Hold", "[", "\[IndentingNewLine]", 
        RowBox[{"With", "[", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{
            RowBox[{"Zspatarr", " ", "=", " ", 
             RowBox[{"N", "@", "Zspat"}]}], ",", " ", 
            RowBox[{"Zdspatarr", " ", "=", " ", 
             RowBox[{"N", "@", "Zdspat"}]}], ",", " ", 
            RowBox[{"\[DoubleStruckCapitalI]arr", " ", "=", " ", 
             RowBox[{"N", "@", "\[DoubleStruckCapitalI]"}]}], ",", " ", 
            RowBox[{"d\[DoubleStruckCapitalI]arr", " ", "=", " ", 
             RowBox[{"N", "@", "d\[DoubleStruckCapitalI]"}]}], ",", " ", 
            RowBox[{"Xip", " ", "=", " ", 
             RowBox[{"cf", "[", "3", "]"}]}], ",", " ", 
            RowBox[{"dXip", " ", "=", " ", 
             RowBox[{"cf", "[", "4", "]"}]}], ",", " ", 
            RowBox[{"pararr", " ", "=", " ", "parent"}], ",", " ", 
            RowBox[{"nq", " ", "=", " ", "nq"}], ",", " ", 
            RowBox[{"nx", " ", "=", " ", "nx"}], ",", "  ", 
            RowBox[{"n\[Lambda]", " ", "=", " ", "n\[Lambda]"}], ",", " ", 
            RowBox[{"sarr", " ", "=", 
             RowBox[{"N", "@", "s"}]}], ",", " ", 
            RowBox[{"ag", " ", "=", " ", 
             RowBox[{"N", "@", "ag"}]}], ",", " ", 
            RowBox[{"mx", " ", "=", " ", 
             RowBox[{"cf", "[", "1", "]"}]}], ",", " ", 
            RowBox[{"mxstar", " ", "=", " ", 
             RowBox[{"cf", "[", "2", "]"}]}], ",", " ", 
            RowBox[{"dmx", " ", "=", " ", 
             RowBox[{"cf", "[", "5", "]"}]}], ",", " ", 
            RowBox[{"dmxstar", " ", "=", " ", 
             RowBox[{"cf", "[", "6", "]"}]}], ",", " ", 
            RowBox[{"ZMarr", " ", "=", " ", 
             RowBox[{"N", "@", "ZM"}]}], ",", " ", 
            RowBox[{"ZdMarr", " ", "=", " ", 
             RowBox[{"N", "@", "ZdM"}]}], ",", " ", 
            RowBox[{"rarr", " ", "=", " ", 
             RowBox[{"N", "@", "r"}]}], ",", " ", 
            RowBox[{"ZJarr", " ", "=", " ", 
             RowBox[{"N", "@", "ZJ"}]}], ",", " ", 
            RowBox[{"ZdJarr", " ", "=", " ", 
             RowBox[{"N", "@", "ZdJ"}]}], ",", " ", 
            RowBox[{"bodarr", " ", "=", " ", "bodies"}], ",", " ", 
            RowBox[{"mb", " ", "=", " ", "mb"}], ",", " ", 
            RowBox[{"Zosimarr", " ", "=", " ", 
             RowBox[{"N", "@", "Zosim"}]}], ",", " ", 
            RowBox[{"Zdosimarr", " ", "=", " ", 
             RowBox[{"N", "@", "Zdosim"}]}], ",", " ", 
            RowBox[{"ncaarr", " ", "=", " ", "nca"}], ",", " ", 
            RowBox[{"znqarr", " ", "=", " ", 
             RowBox[{"N", "@", "znq"}]}], ",", " ", 
            RowBox[{"Znqarr", " ", "=", " ", 
             RowBox[{"N", "@", "Znq"}]}], ",", " ", 
            RowBox[{"zmbarr", " ", "=", " ", 
             RowBox[{"N", "@", "zmb"}]}], ",", " ", 
            RowBox[{"Zmbarr", " ", "=", " ", 
             RowBox[{"N", "@", "Zmb"}]}]}], "}"}], ",", "\[IndentingNewLine]", 
          RowBox[{"Compile", "[", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"x", ",", " ", "_Real", ",", " ", "1"}], "}"}], ",", 
              " ", 
              RowBox[{"{", 
               RowBox[{"u", ",", " ", "_Real", ",", " ", "1"}], "}"}], ",", 
              " ", 
              RowBox[{"{", 
               RowBox[{"dx", ",", " ", "_Real", ",", " ", "2"}], "}"}], ",", 
              " ", 
              RowBox[{"{", 
               RowBox[{"du", ",", " ", "_Real", ",", " ", "2"}], "}"}]}], 
             "}"}], ",", " ", "\[IndentingNewLine]", 
            RowBox[{"Block", "[", 
             RowBox[{
              RowBox[{"{", "\[IndentingNewLine]", 
               RowBox[{
               "Zspat", ",", " ", "Zdspat", ",", " ", 
                "\[DoubleStruckCapitalI]", ",", " ", 
                "d\[DoubleStruckCapitalI]", ",", " ", "parent", ",", " ", "s",
                 ",", " ", "ZM", ",", " ", "ZdM", ",", " ", "r", ",", " ", 
                "ZJ", ",", " ", "ZdJ", ",", " ", "bodies", ",", " ", "Zosim", 
                ",", " ", "Zdosim", ",", " ", "nca", ",", " ", "znq", ",", 
                " ", "Znq", ",", " ", "zmb", ",", " ", "Zmb", ",", " ", "XL", 
                ",", " ", "dXL", ",", " ", "qdd", ",", " ", "dqdd", ",", " ", 
                "c", ",", " ", "dc", ",", " ", "M", ",", " ", "dM", ",", " ", 
                "v", ",", " ", "dv", ",", " ", "a", ",", " ", "da", ",", " ", 
                "f", ",", " ", "df", ",", " ", "IC", ",", " ", "dIC", ",", 
                " ", "ac", ",", " ", "dac", ",", " ", "J", ",", " ", "dJ", 
                ",", " ", "\[CapitalLambda]", ",", " ", "d\[CapitalLambda]", 
                ",", " ", "\[CapitalLambda]inv", ",", " ", 
                "d\[CapitalLambda]inv", ",", " ", "Yd", ",", " ", "dYd", ",", 
                " ", "YD", ",", " ", "dYD"}], "}"}], ",", 
              "\[IndentingNewLine]", "\[IndentingNewLine]", 
              RowBox[{
               RowBox[{"Zspat", " ", "=", " ", "Zspatarr"}], ";", 
               "\[IndentingNewLine]", 
               RowBox[{"parent", " ", "=", " ", "pararr"}], ";", 
               "\[IndentingNewLine]", 
               RowBox[{
               "\[DoubleStruckCapitalI]", " ", "=", " ", 
                "\[DoubleStruckCapitalI]arr"}], ";", "\[IndentingNewLine]", 
               RowBox[{"s", " ", "=", " ", "sarr"}], ";", 
               "\[IndentingNewLine]", 
               RowBox[{"ZM", " ", "=", " ", "ZMarr"}], ";", 
               "\[IndentingNewLine]", 
               RowBox[{"znq", " ", "=", " ", "znqarr"}], ";", 
               "\[IndentingNewLine]", "\[IndentingNewLine]", 
               RowBox[{"Zdspat", " ", "=", " ", "Zdspatarr"}], ";", 
               "\[IndentingNewLine]", 
               RowBox[{"Znq", " ", "=", " ", "Znqarr"}], ";", 
               "\[IndentingNewLine]", 
               RowBox[{"ZdM", " ", "=", " ", "ZdMarr"}], ";", 
               "\[IndentingNewLine]", 
               RowBox[{
               "d\[DoubleStruckCapitalI]", " ", "=", " ", 
                "d\[DoubleStruckCapitalI]arr"}], ";", "\[IndentingNewLine]", 
               "\[IndentingNewLine]", 
               RowBox[{"qdd", " ", "=", " ", 
                RowBox[{"F", "[", 
                 RowBox[{"x", ",", " ", "u"}], "]"}]}], ";", 
               "\[IndentingNewLine]", 
               RowBox[{"dqdd", " ", "=", " ", 
                RowBox[{"dF", "[", 
                 RowBox[{"x", ",", " ", "u", ",", " ", "dx", ",", " ", "du"}],
                  "]"}]}], ";", "\[IndentingNewLine]", "\[IndentingNewLine]", 
               RowBox[{
                RowBox[{"Join", "[", 
                 RowBox[{
                  RowBox[{"{", "qdd", "}"}], ",", " ", 
                  RowBox[{"dqdd", "\[Transpose]"}]}], "]"}], 
                "\[Transpose]"}]}]}], "\[IndentingNewLine]", "]"}]}], 
           "\[IndentingNewLine]", "]"}]}], "\[IndentingNewLine]", "]"}], 
        "\[IndentingNewLine]", "]"}], " ", "//.", " ", "funcs"}], 
      "\[IndentingNewLine]", "]"}]}], "\[IndentingNewLine]", "]"}]}], 
  ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"compileImp", "[", "]"}], " ", ":=", " ", 
   RowBox[{"Block", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"x", ",", " ", "dx"}], "}"}], ",", "\[IndentingNewLine]", 
     RowBox[{"ReleaseHold", "[", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"Hold", "[", "\[IndentingNewLine]", 
        RowBox[{"With", "[", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{
            RowBox[{"Zspatarr", " ", "=", " ", 
             RowBox[{"N", "@", "Zspat"}]}], ",", " ", 
            RowBox[{"Zdspatarr", " ", "=", " ", 
             RowBox[{"N", "@", "Zdspat"}]}], ",", " ", 
            RowBox[{"\[DoubleStruckCapitalI]arr", " ", "=", " ", 
             RowBox[{"N", "@", "\[DoubleStruckCapitalI]"}]}], ",", " ", 
            RowBox[{"d\[DoubleStruckCapitalI]arr", " ", "=", " ", 
             RowBox[{"N", "@", "d\[DoubleStruckCapitalI]"}]}], ",", " ", 
            RowBox[{"Xip", " ", "=", " ", 
             RowBox[{"cf", "[", "3", "]"}]}], ",", " ", 
            RowBox[{"dXip", " ", "=", " ", 
             RowBox[{"cf", "[", "4", "]"}]}], ",", " ", 
            RowBox[{"pararr", " ", "=", " ", "parent"}], ",", " ", 
            RowBox[{"nq", " ", "=", " ", "nq"}], ",", " ", 
            RowBox[{"nx", " ", "=", " ", "nx"}], ",", "  ", 
            RowBox[{"n\[Lambda]", " ", "=", " ", "n\[Lambda]"}], ",", " ", 
            RowBox[{"sarr", " ", "=", 
             RowBox[{"N", "@", "s"}]}], ",", " ", 
            RowBox[{"ag", " ", "=", " ", 
             RowBox[{"N", "@", "ag"}]}], ",", " ", 
            RowBox[{"mx", " ", "=", " ", 
             RowBox[{"cf", "[", "1", "]"}]}], ",", " ", 
            RowBox[{"mxstar", " ", "=", " ", 
             RowBox[{"cf", "[", "2", "]"}]}], ",", " ", 
            RowBox[{"dmx", " ", "=", " ", 
             RowBox[{"cf", "[", "5", "]"}]}], ",", " ", 
            RowBox[{"dmxstar", " ", "=", " ", 
             RowBox[{"cf", "[", "6", "]"}]}], ",", " ", 
            RowBox[{"ZMarr", " ", "=", " ", 
             RowBox[{"N", "@", "ZM"}]}], ",", " ", 
            RowBox[{"ZdMarr", " ", "=", " ", 
             RowBox[{"N", "@", "ZdM"}]}], ",", " ", 
            RowBox[{"rarr", " ", "=", " ", 
             RowBox[{"N", "@", "r"}]}], ",", " ", 
            RowBox[{"ZJarr", " ", "=", " ", 
             RowBox[{"N", "@", "ZJ"}]}], ",", " ", 
            RowBox[{"ZdJarr", " ", "=", " ", 
             RowBox[{"N", "@", "ZdJ"}]}], ",", " ", 
            RowBox[{"bodarr", " ", "=", " ", "bodies"}], ",", " ", 
            RowBox[{"mb", " ", "=", " ", "mb"}], ",", " ", 
            RowBox[{"Zosimarr", " ", "=", " ", 
             RowBox[{"N", "@", "Zosim"}]}], ",", " ", 
            RowBox[{"Zdosimarr", " ", "=", " ", 
             RowBox[{"N", "@", "Zdosim"}]}], ",", " ", 
            RowBox[{"ncaarr", " ", "=", " ", "nca"}], ",", " ", 
            RowBox[{"znqarr", " ", "=", " ", 
             RowBox[{"N", "@", "znq"}]}], ",", " ", 
            RowBox[{"Znqarr", " ", "=", " ", 
             RowBox[{"N", "@", "Znq"}]}], ",", " ", 
            RowBox[{"zmbarr", " ", "=", " ", 
             RowBox[{"N", "@", "zmb"}]}], ",", " ", 
            RowBox[{"Zmbarr", " ", "=", " ", 
             RowBox[{"N", "@", "Zmb"}]}]}], "}"}], ",", "\[IndentingNewLine]", 
          RowBox[{"Compile", "[", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"x", ",", " ", "_Real", ",", " ", "1"}], "}"}], ",", 
              " ", 
              RowBox[{"{", 
               RowBox[{"dx", ",", " ", "_Real", ",", " ", "2"}], "}"}]}], 
             "}"}], ",", " ", "\[IndentingNewLine]", 
            RowBox[{"Block", "[", 
             RowBox[{
              RowBox[{"{", "\[IndentingNewLine]", 
               RowBox[{
               "Zspat", ",", " ", "Zdspat", ",", " ", 
                "\[DoubleStruckCapitalI]", ",", " ", 
                "d\[DoubleStruckCapitalI]", ",", " ", "parent", ",", " ", "s",
                 ",", " ", "ZM", ",", " ", "ZdM", ",", " ", "r", ",", " ", 
                "ZJ", ",", " ", "ZdJ", ",", " ", "bodies", ",", " ", "Zosim", 
                ",", " ", "Zdosim", ",", " ", "nca", ",", " ", "znq", ",", 
                " ", "Znq", ",", " ", "zmb", ",", " ", "Zmb", ",", " ", "XL", 
                ",", " ", "dXL", ",", " ", "qdd", ",", " ", "dqdd", ",", " ", 
                "c", ",", " ", "dc", ",", " ", "M", ",", " ", "dM", ",", " ", 
                "v", ",", " ", "dv", ",", " ", "a", ",", " ", "da", ",", " ", 
                "f", ",", " ", "df", ",", " ", "IC", ",", " ", "dIC", ",", 
                " ", "ac", ",", " ", "dac", ",", " ", "J", ",", " ", "dJ", 
                ",", " ", "\[CapitalLambda]", ",", " ", "d\[CapitalLambda]", 
                ",", " ", "\[CapitalLambda]inv", ",", " ", 
                "d\[CapitalLambda]inv", ",", " ", "Yd", ",", " ", "dYd", ",", 
                " ", "YD", ",", " ", "dYD", ",", " ", "Pqdd", ",", " ", 
                "dPqdd"}], "}"}], ",", "\[IndentingNewLine]", 
              "\[IndentingNewLine]", 
              RowBox[{
               RowBox[{"Zspat", " ", "=", " ", "Zspatarr"}], ";", 
               "\[IndentingNewLine]", 
               RowBox[{"parent", " ", "=", " ", "pararr"}], ";", 
               "\[IndentingNewLine]", 
               RowBox[{
               "\[DoubleStruckCapitalI]", " ", "=", " ", 
                "\[DoubleStruckCapitalI]arr"}], ";", "\[IndentingNewLine]", 
               RowBox[{"s", " ", "=", " ", "sarr"}], ";", 
               "\[IndentingNewLine]", 
               RowBox[{"ZM", " ", "=", " ", "ZMarr"}], ";", 
               "\[IndentingNewLine]", 
               RowBox[{"znq", " ", "=", " ", "znqarr"}], ";", 
               "\[IndentingNewLine]", "\[IndentingNewLine]", 
               RowBox[{"Zdspat", " ", "=", " ", "Zdspatarr"}], ";", 
               "\[IndentingNewLine]", 
               RowBox[{"Znq", " ", "=", " ", "Znqarr"}], ";", 
               "\[IndentingNewLine]", 
               RowBox[{"ZdM", " ", "=", " ", "ZdMarr"}], ";", 
               "\[IndentingNewLine]", 
               RowBox[{
               "d\[DoubleStruckCapitalI]", " ", "=", " ", 
                "d\[DoubleStruckCapitalI]arr"}], ";", "\[IndentingNewLine]", 
               "\[IndentingNewLine]", 
               RowBox[{"XL", " ", "=", " ", 
                RowBox[{"Xip", "[", "x", "]"}]}], ";", " ", 
               RowBox[{"(*", " ", 
                RowBox[{
                "parent", " ", "to", " ", "child", " ", "transforms"}], " ", 
                "*)"}], "\[IndentingNewLine]", 
               RowBox[{"IC", " ", "=", " ", "\[DoubleStruckCapitalI]"}], ";", 
               " ", 
               RowBox[{"(*", " ", 
                RowBox[{"initialize", " ", "ABI"}], " ", "*)"}], 
               "\[IndentingNewLine]", 
               RowBox[{"M", " ", "=", " ", "ZM"}], ";", " ", 
               RowBox[{"(*", " ", 
                RowBox[{"joint", "-", 
                 RowBox[{"space", " ", "inertia", " ", "matrix"}]}], " ", 
                "*)"}], "\[IndentingNewLine]", 
               RowBox[{"JSIM", "[", "x", "]"}], ";", "\[IndentingNewLine]", 
               RowBox[{"LTDL", "[", "M", "]"}], ";", " ", 
               RowBox[{"(*", " ", 
                RowBox[{"factorize", " ", "M", " ", "in", " ", "place"}], " ",
                 "*)"}], "\[IndentingNewLine]", "\[IndentingNewLine]", 
               RowBox[{"dXL", " ", "=", " ", 
                RowBox[{"dXip", "[", 
                 RowBox[{"x", ",", " ", "dx"}], "]"}]}], ";", 
               "\[IndentingNewLine]", 
               RowBox[{"dM", " ", "=", " ", "ZdM"}], ";", 
               "\[IndentingNewLine]", 
               RowBox[{"dIC", " ", "=", " ", "d\[DoubleStruckCapitalI]"}], 
               ";", " ", 
               RowBox[{"(*", " ", 
                RowBox[{"initialize", " ", "ABI"}], " ", "*)"}], 
               "\[IndentingNewLine]", 
               RowBox[{"dJSIM", "[", 
                RowBox[{"x", ",", " ", "dx"}], "]"}], ";", 
               "\[IndentingNewLine]", 
               RowBox[{"dLTDL", "[", 
                RowBox[{"M", ",", " ", "dM"}], "]"}], ";", " ", 
               RowBox[{"(*", " ", 
                RowBox[{"modifies", " ", "dM", " ", "in", " ", "place"}], " ",
                 "*)"}], "\[IndentingNewLine]", "\[IndentingNewLine]", 
               RowBox[{"r", " ", "=", " ", "rarr"}], ";", 
               "\[IndentingNewLine]", 
               RowBox[{"ZJ", " ", "=", " ", "ZJarr"}], ";", 
               "\[IndentingNewLine]", 
               RowBox[{"bodies", " ", "=", " ", "bodarr"}], ";", 
               "\[IndentingNewLine]", 
               RowBox[{"Zosim", " ", "=", " ", "Zosimarr"}], ";", 
               "\[IndentingNewLine]", 
               RowBox[{"nca", " ", "=", " ", "ncaarr"}], ";", 
               "\[IndentingNewLine]", 
               RowBox[{"zmb", " ", "=", " ", "zmbarr"}], ";", 
               "\[IndentingNewLine]", "\[IndentingNewLine]", 
               RowBox[{"ZdJ", " ", "=", " ", "ZdJarr"}], ";", 
               "\[IndentingNewLine]", 
               RowBox[{"Zdosim", " ", "=", " ", "Zdosimarr"}], ";", 
               "\[IndentingNewLine]", 
               RowBox[{"Zmb", " ", "=", " ", "Zmbarr"}], ";", 
               "\[IndentingNewLine]", "\[IndentingNewLine]", 
               RowBox[{"qdd", " ", "=", " ", 
                RowBox[{"x", "\[LeftDoubleBracket]", 
                 RowBox[{
                  RowBox[{"nq", "+", "1"}], ";;", "nx"}], 
                 "\[RightDoubleBracket]"}]}], ";", "\[IndentingNewLine]", 
               RowBox[{"dqdd", " ", "=", " ", 
                RowBox[{"dx", "\[LeftDoubleBracket]", 
                 RowBox[{
                  RowBox[{"nq", "+", "1"}], ";;", "nx"}], 
                 "\[RightDoubleBracket]"}]}], ";", "\[IndentingNewLine]", 
               "\[IndentingNewLine]", 
               RowBox[{"Pqdd", " ", "=", " ", 
                RowBox[{"P", "[", "qdd", "]"}]}], ";", "\[IndentingNewLine]", 
               RowBox[{"dPqdd", " ", "=", " ", 
                RowBox[{"dP", "[", 
                 RowBox[{"qdd", ",", " ", "dqdd"}], "]"}]}], ";", 
               "\[IndentingNewLine]", "\[IndentingNewLine]", 
               RowBox[{
                RowBox[{"Join", "[", 
                 RowBox[{
                  RowBox[{"{", "Pqdd", "}"}], ",", " ", 
                  RowBox[{"dPqdd", "\[Transpose]"}]}], "]"}], 
                "\[Transpose]"}]}]}], "\[IndentingNewLine]", "]"}]}], 
           "\[IndentingNewLine]", "]"}]}], "\[IndentingNewLine]", "]"}], 
        "\[IndentingNewLine]", "]"}], " ", "//.", " ", "funcs"}], 
      "\[IndentingNewLine]", "]"}]}], "\[IndentingNewLine]", "]"}]}], 
  ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"compileAll", "[", "]"}], " ", ":=", " ", 
   RowBox[{"Block", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"x", ",", " ", "dx", ",", " ", "u", ",", " ", "du"}], "}"}], 
     ",", "\[IndentingNewLine]", 
     RowBox[{"ReleaseHold", "[", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"Hold", "[", "\[IndentingNewLine]", 
        RowBox[{"With", "[", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{
            RowBox[{"Zspatarr", " ", "=", " ", 
             RowBox[{"N", "@", "Zspat"}]}], ",", " ", 
            RowBox[{"Zdspatarr", " ", "=", " ", 
             RowBox[{"N", "@", "Zdspat"}]}], ",", " ", 
            RowBox[{"\[DoubleStruckCapitalI]arr", " ", "=", " ", 
             RowBox[{"N", "@", "\[DoubleStruckCapitalI]"}]}], ",", " ", 
            RowBox[{"d\[DoubleStruckCapitalI]arr", " ", "=", " ", 
             RowBox[{"N", "@", "d\[DoubleStruckCapitalI]"}]}], ",", " ", 
            RowBox[{"Xip", " ", "=", " ", 
             RowBox[{"cf", "[", "3", "]"}]}], ",", " ", 
            RowBox[{"dXip", " ", "=", " ", 
             RowBox[{"cf", "[", "4", "]"}]}], ",", " ", 
            RowBox[{"pararr", " ", "=", " ", "parent"}], ",", " ", 
            RowBox[{"nq", " ", "=", " ", "nq"}], ",", " ", 
            RowBox[{"nx", " ", "=", " ", "nx"}], ",", "  ", 
            RowBox[{"n\[Lambda]", " ", "=", " ", "n\[Lambda]"}], ",", " ", 
            RowBox[{"sarr", " ", "=", 
             RowBox[{"N", "@", "s"}]}], ",", " ", 
            RowBox[{"ag", " ", "=", " ", 
             RowBox[{"N", "@", "ag"}]}], ",", " ", 
            RowBox[{"mx", " ", "=", " ", 
             RowBox[{"cf", "[", "1", "]"}]}], ",", " ", 
            RowBox[{"mxstar", " ", "=", " ", 
             RowBox[{"cf", "[", "2", "]"}]}], ",", " ", 
            RowBox[{"dmx", " ", "=", " ", 
             RowBox[{"cf", "[", "5", "]"}]}], ",", " ", 
            RowBox[{"dmxstar", " ", "=", " ", 
             RowBox[{"cf", "[", "6", "]"}]}], ",", " ", 
            RowBox[{"ZMarr", " ", "=", " ", 
             RowBox[{"N", "@", "ZM"}]}], ",", " ", 
            RowBox[{"ZdMarr", " ", "=", " ", 
             RowBox[{"N", "@", "ZdM"}]}], ",", " ", 
            RowBox[{"rarr", " ", "=", " ", 
             RowBox[{"N", "@", "r"}]}], ",", " ", 
            RowBox[{"ZJarr", " ", "=", " ", 
             RowBox[{"N", "@", "ZJ"}]}], ",", " ", 
            RowBox[{"ZdJarr", " ", "=", " ", 
             RowBox[{"N", "@", "ZdJ"}]}], ",", " ", 
            RowBox[{"bodarr", " ", "=", " ", "bodies"}], ",", " ", 
            RowBox[{"mb", " ", "=", " ", "mb"}], ",", " ", 
            RowBox[{"Zosimarr", " ", "=", " ", 
             RowBox[{"N", "@", "Zosim"}]}], ",", " ", 
            RowBox[{"Zdosimarr", " ", "=", " ", 
             RowBox[{"N", "@", "Zdosim"}]}], ",", " ", 
            RowBox[{"ncaarr", " ", "=", " ", "nca"}], ",", " ", 
            RowBox[{"znqarr", " ", "=", " ", 
             RowBox[{"N", "@", "znq"}]}], ",", " ", 
            RowBox[{"Znqarr", " ", "=", " ", 
             RowBox[{"N", "@", "Znq"}]}], ",", " ", 
            RowBox[{"zmbarr", " ", "=", " ", 
             RowBox[{"N", "@", "zmb"}]}], ",", " ", 
            RowBox[{"Zmbarr", " ", "=", " ", 
             RowBox[{"N", "@", "Zmb"}]}]}], "}"}], ",", "\[IndentingNewLine]", 
          RowBox[{"Compile", "[", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"x", ",", " ", "_Real", ",", " ", "1"}], "}"}], ",", 
              " ", 
              RowBox[{"{", 
               RowBox[{"u", ",", " ", "_Real", ",", " ", "1"}], "}"}], ",", 
              " ", 
              RowBox[{"{", 
               RowBox[{"dx", ",", " ", "_Real", ",", " ", "2"}], "}"}], ",", 
              " ", 
              RowBox[{"{", 
               RowBox[{"du", ",", " ", "_Real", ",", " ", "2"}], "}"}]}], 
             "}"}], ",", " ", "\[IndentingNewLine]", 
            RowBox[{"Block", "[", 
             RowBox[{
              RowBox[{"{", "\[IndentingNewLine]", 
               RowBox[{
               "Zspat", ",", " ", "Zdspat", ",", " ", 
                "\[DoubleStruckCapitalI]", ",", " ", 
                "d\[DoubleStruckCapitalI]", ",", " ", "parent", ",", " ", "s",
                 ",", " ", "ZM", ",", " ", "ZdM", ",", " ", "r", ",", " ", 
                "ZJ", ",", " ", "ZdJ", ",", " ", "bodies", ",", " ", "Zosim", 
                ",", " ", "Zdosim", ",", " ", "nca", ",", " ", "znq", ",", 
                " ", "Znq", ",", " ", "zmb", ",", " ", "Zmb", ",", " ", "XL", 
                ",", " ", "dXL", ",", " ", "qdd", ",", " ", "dqdd", ",", " ", 
                "c", ",", " ", "dc", ",", " ", "M", ",", " ", "dM", ",", " ", 
                "v", ",", " ", "dv", ",", " ", "a", ",", " ", "da", ",", " ", 
                "f", ",", " ", "df", ",", " ", "IC", ",", " ", "dIC", ",", 
                " ", "ac", ",", " ", "dac", ",", " ", "J", ",", " ", "dJ", 
                ",", " ", "\[CapitalLambda]", ",", " ", "d\[CapitalLambda]", 
                ",", " ", "\[CapitalLambda]inv", ",", " ", 
                "d\[CapitalLambda]inv", ",", " ", "Yd", ",", " ", "dYd", ",", 
                " ", "YD", ",", " ", "dYD", ",", " ", "Pqdd", ",", " ", 
                "dPqdd"}], "}"}], ",", "\[IndentingNewLine]", 
              "\[IndentingNewLine]", 
              RowBox[{
               RowBox[{"Zspat", " ", "=", " ", "Zspatarr"}], ";", 
               "\[IndentingNewLine]", 
               RowBox[{"parent", " ", "=", " ", "pararr"}], ";", 
               "\[IndentingNewLine]", 
               RowBox[{
               "\[DoubleStruckCapitalI]", " ", "=", " ", 
                "\[DoubleStruckCapitalI]arr"}], ";", "\[IndentingNewLine]", 
               RowBox[{"s", " ", "=", " ", "sarr"}], ";", 
               "\[IndentingNewLine]", 
               RowBox[{"ZM", " ", "=", " ", "ZMarr"}], ";", 
               "\[IndentingNewLine]", 
               RowBox[{"znq", " ", "=", " ", "znqarr"}], ";", 
               "\[IndentingNewLine]", "\[IndentingNewLine]", 
               RowBox[{"Zdspat", " ", "=", " ", "Zdspatarr"}], ";", 
               "\[IndentingNewLine]", 
               RowBox[{"Znq", " ", "=", " ", "Znqarr"}], ";", 
               "\[IndentingNewLine]", 
               RowBox[{"ZdM", " ", "=", " ", "ZdMarr"}], ";", 
               "\[IndentingNewLine]", 
               RowBox[{
               "d\[DoubleStruckCapitalI]", " ", "=", " ", 
                "d\[DoubleStruckCapitalI]arr"}], ";", "\[IndentingNewLine]", 
               "\[IndentingNewLine]", 
               RowBox[{"qdd", " ", "=", " ", 
                RowBox[{"F", "[", 
                 RowBox[{"x", ",", " ", "u"}], "]"}]}], ";", 
               "\[IndentingNewLine]", 
               RowBox[{"dqdd", " ", "=", " ", 
                RowBox[{"dF", "[", 
                 RowBox[{"x", ",", " ", "u", ",", " ", "dx", ",", " ", "du"}],
                  "]"}]}], ";", "\[IndentingNewLine]", "\[IndentingNewLine]", 
               RowBox[{"r", " ", "=", " ", "rarr"}], ";", 
               "\[IndentingNewLine]", 
               RowBox[{"ZJ", " ", "=", " ", "ZJarr"}], ";", 
               "\[IndentingNewLine]", 
               RowBox[{"bodies", " ", "=", " ", "bodarr"}], ";", 
               "\[IndentingNewLine]", 
               RowBox[{"Zosim", " ", "=", " ", "Zosimarr"}], ";", 
               "\[IndentingNewLine]", 
               RowBox[{"nca", " ", "=", " ", "ncaarr"}], ";", 
               "\[IndentingNewLine]", 
               RowBox[{"zmb", " ", "=", " ", "zmbarr"}], ";", 
               "\[IndentingNewLine]", "\[IndentingNewLine]", 
               RowBox[{"ZdJ", " ", "=", " ", "ZdJarr"}], ";", 
               "\[IndentingNewLine]", 
               RowBox[{"Zdosim", " ", "=", " ", "Zdosimarr"}], ";", 
               "\[IndentingNewLine]", 
               RowBox[{"Zmb", " ", "=", " ", "Zmbarr"}], ";", 
               "\[IndentingNewLine]", "\[IndentingNewLine]", 
               RowBox[{"Pqdd", " ", "=", " ", 
                RowBox[{"P", "[", "qdd", "]"}]}], ";", "\[IndentingNewLine]", 
               RowBox[{"dPqdd", " ", "=", " ", 
                RowBox[{"dP", "[", 
                 RowBox[{"qdd", ",", " ", "dqdd"}], "]"}]}], ";", 
               "\[IndentingNewLine]", "\[IndentingNewLine]", 
               RowBox[{
                RowBox[{"Join", "[", 
                 RowBox[{
                  RowBox[{"{", "Pqdd", "}"}], ",", " ", 
                  RowBox[{"dPqdd", "\[Transpose]"}]}], "]"}], 
                "\[Transpose]"}]}]}], "\[IndentingNewLine]", "]"}]}], 
           "\[IndentingNewLine]", "]"}]}], "\[IndentingNewLine]", "]"}], 
        "\[IndentingNewLine]", "]"}], " ", "//.", " ", "funcs"}], 
      "\[IndentingNewLine]", "]"}]}], "\[IndentingNewLine]", "]"}]}], 
  ";"}]}], "Input",
 CellChangeTimes->{{3.5927464865753255`*^9, 3.5927464914503345`*^9}, {
   3.5927468641854386`*^9, 3.5927469874044275`*^9}, 3.592747035842024*^9, {
   3.592748397515662*^9, 3.5927485020939813`*^9}, {3.592748792556923*^9, 
   3.592748792900674*^9}, 3.5927488995883822`*^9, {3.592748966119763*^9, 
   3.592748970604147*^9}, {3.5927490483230495`*^9, 3.5927491029481635`*^9}, {
   3.5927491590888906`*^9, 3.592749159948267*^9}, {3.592749220885886*^9, 
   3.592749221870264*^9}, {3.5927493976206074`*^9, 3.592749400229985*^9}, {
   3.592749463605112*^9, 3.5927494760738854`*^9}, {3.5927501285482793`*^9, 
   3.5927501495674753`*^9}, {3.592750580473156*^9, 3.5927505808441906`*^9}, {
   3.5927513214595895`*^9, 3.592751329501048*^9}, {3.5927517215595016`*^9, 
   3.5927518216132317`*^9}, {3.592751955167879*^9, 3.592752047246156*^9}, {
   3.59275207975301*^9, 3.5927520901676083`*^9}, {3.5927521322320194`*^9, 
   3.5927521803447742`*^9}, {3.5927524718904705`*^9, 3.592752500271096*^9}, {
   3.5927525485908813`*^9, 3.5927525639577427`*^9}, {3.5927527173515277`*^9, 
   3.5927527806791534`*^9}, {3.592787408252808*^9, 3.592787434236294*^9}, 
   3.5927874677642117`*^9, {3.5927876133485527`*^9, 3.59278773477352*^9}, {
   3.592788022587986*^9, 3.5927880490205*^9}, {3.5927880872056866`*^9, 
   3.5927882010442233`*^9}, {3.592788247099846*^9, 3.592788251691109*^9}, {
   3.592788329019534*^9, 3.5927883398671584`*^9}, {3.5927883829006205`*^9, 
   3.592788404668869*^9}, {3.59278844822036*^9, 3.5927887093083124`*^9}, {
   3.592788763812434*^9, 3.592789076487343*^9}, {3.592789284135234*^9, 
   3.5927892917666674`*^9}, {3.5927893725342927`*^9, 
   3.5927893764315195`*^9}, {3.5927895432140865`*^9, 3.592789556237811*^9}, {
   3.5927896060226626`*^9, 3.5927896196554475`*^9}, {3.592789743750551*^9, 
   3.5927897527110667`*^9}, {3.5927898851666503`*^9, 
   3.5927898892638817`*^9}, {3.5927899311752844`*^9, 3.592789932703375*^9}, {
   3.5927905704148912`*^9, 3.592790583015614*^9}, 3.59279102650301*^9, {
   3.59279145953481*^9, 3.5927914771668177`*^9}, {3.592791536368208*^9, 
   3.5927915627517176`*^9}, {3.592791631559659*^9, 3.5927916554150286`*^9}, {
   3.5927916998795753`*^9, 3.5927917207527704`*^9}, {3.5927918239526777`*^9, 
   3.5927918320481434`*^9}, {3.592791894688731*^9, 3.5927919100236063`*^9}, {
   3.5927927193199544`*^9, 3.5927927619113936`*^9}, {3.5927929530073366`*^9, 
   3.592792970071315*^9}, {3.5927930234233694`*^9, 3.592793073432234*^9}, {
   3.5927934247283506`*^9, 3.592793445171522*^9}, 3.5927934896650696`*^9, {
   3.5927935301363845`*^9, 3.592793557880971*^9}, {3.592793615824291*^9, 
   3.5927936570436544`*^9}, {3.592793709832678*^9, 3.592793779097644*^9}, {
   3.5927938302815723`*^9, 3.5927938512207747`*^9}, {3.592793906129919*^9, 
   3.592794024370686*^9}, {3.5927940938346643`*^9, 3.592794226422261*^9}, {
   3.592794352083457*^9, 3.5927943785659733`*^9}, {3.59279443332611*^9, 
   3.5927944363582973`*^9}, 3.592794490349379*^9, {3.5927945533749866`*^9, 
   3.5927945544540462`*^9}, {3.59279458525381*^9, 3.592794586085856*^9}, {
   3.592794619766788*^9, 3.592794620077804*^9}, {3.592794735942443*^9, 
   3.592794799782093*^9}, {3.5927948513110604`*^9, 3.5927948525581145`*^9}, {
   3.5927948940224915`*^9, 3.592794894510515*^9}, {3.592795022006821*^9, 
   3.592795054637703*^9}, {3.5927950899517117`*^9, 3.5927950921018324`*^9}, {
   3.592795310559343*^9, 3.592795318246805*^9}, {3.592795646152564*^9, 
   3.5927956942813206`*^9}, {3.592795950158973*^9, 3.5927959915763464`*^9}, {
   3.5927961012986274`*^9, 3.592796103640763*^9}, {3.592796136866666*^9, 
   3.592796224010664*^9}, {3.5927962586506395`*^9, 3.592796271441372*^9}, {
   3.592796342598444*^9, 3.592796348200768*^9}, {3.5927965430159235`*^9, 
   3.5927965455730896`*^9}, {3.592796777545373*^9, 3.5927967791884503`*^9}, {
   3.5927970247225103`*^9, 3.5927970555612755`*^9}, {3.5927971763021903`*^9, 
   3.5927972190376377`*^9}, {3.5927972656403103`*^9, 3.592797267719426*^9}, {
   3.592797311261919*^9, 3.5927973444568295`*^9}, {3.5927973760766287`*^9, 
   3.592797378630777*^9}, {3.5927975946551485`*^9, 3.592797614344277*^9}, {
   3.5927976446520114`*^9, 3.5927977240215564`*^9}, {3.5927978167008653`*^9, 
   3.5927978181319456`*^9}, {3.592797872025051*^9, 3.592797873281104*^9}, {
   3.5927979144384623`*^9, 3.5927979822203426`*^9}, {3.5927980797859306`*^9, 
   3.5927982015459027`*^9}, {3.592798240253119*^9, 3.5927982503546925`*^9}, {
   3.5927983464412003`*^9, 3.5927983491603556`*^9}, {3.5927983864654922`*^9, 
   3.5927984011853304`*^9}, {3.5927984469139547`*^9, 3.59279846063174*^9}, {
   3.5927984913124976`*^9, 3.5927985003590145`*^9}, {3.592798575033289*^9, 
   3.5927985954224586`*^9}, {3.592798656081934*^9, 3.592798661017234*^9}, {
   3.592798692194996*^9, 3.592798693580077*^9}, 3.5927987781829243`*^9, {
   3.592798839587441*^9, 3.5927988856930943`*^9}, {3.592798937677071*^9, 
   3.5927989398951855`*^9}, {3.592798971555996*^9, 3.5927989733591022`*^9}, {
   3.5927991121390457`*^9, 3.5927991182774124`*^9}, {3.5927991739846044`*^9, 
   3.592799256661321*^9}, {3.5927993262023087`*^9, 3.592799332888691*^9}, 
   3.5927993775342445`*^9, {3.592799562417835*^9, 3.5927995644479513`*^9}, {
   3.5927997361697893`*^9, 3.5927997703517427`*^9}, {3.5927999130309143`*^9, 
   3.592799940908526*^9}, {3.5928002340503016`*^9, 3.5928003058014245`*^9}, {
   3.5928004125475187`*^9, 3.592800427281365*^9}, {3.5928004635164423`*^9, 
   3.592800513613307*^9}, {3.592800647487973*^9, 3.5928006518952255`*^9}, {
   3.5928008456483216`*^9, 3.592800874850994*^9}, {3.592800928626073*^9, 
   3.592800947900174*^9}, {3.5928009865883923`*^9, 3.5928009968429832`*^9}, {
   3.592801072707325*^9, 3.592801102540033*^9}, {3.5928011454614906`*^9, 
   3.59280123189544*^9}, {3.5928012900307703`*^9, 3.5928013096298923`*^9}, {
   3.592801353963431*^9, 3.592801397319909*^9}, {3.5928017274658194`*^9, 
   3.592801729341941*^9}, {3.5928017713363323`*^9, 3.5928017940476327`*^9}, {
   3.5928018286946173`*^9, 3.5928020114471016`*^9}, {3.592802132711027*^9, 
   3.5928022123115854`*^9}, {3.5928032468078237`*^9, 
   3.5928032794007015`*^9}, {3.592803420912798*^9, 3.5928034220068603`*^9}, {
   3.5928035020074396`*^9, 3.5928035987039757`*^9}, {3.592803644479601*^9, 
   3.5928036459986877`*^9}, {3.592803744823344*^9, 3.5928037958082623`*^9}, 
   3.5928038377286687`*^9, {3.5928038773919387`*^9, 3.592803893789891*^9}, {
   3.592803933009124*^9, 3.5928039510161552`*^9}, {3.5928040106805716`*^9, 
   3.5928040232563066`*^9}, {3.592804113889482*^9, 3.592804117200672*^9}, 
   3.5928041701127033`*^9, {3.5928042002724295`*^9, 3.592804222478697*^9}, {
   3.592804323713498*^9, 3.5928043253045855`*^9}, {3.5928043586244974`*^9, 
   3.5928043634247723`*^9}, {3.5928044221531353`*^9, 3.592804429488556*^9}, {
   3.59280447078492*^9, 3.5928045432090683`*^9}, {3.592804620736506*^9, 
   3.592804636253392*^9}, {3.5928046950537586`*^9, 3.5928047245074496`*^9}, {
   3.592804754995196*^9, 3.592804819419881*^9}, {3.5928048941761827`*^9, 
   3.5928048956242466`*^9}, {3.592804933744429*^9, 3.5928049561977186`*^9}, {
   3.5928049895446463`*^9, 3.5928050549673743`*^9}, {3.592805098785881*^9, 
   3.592805115977868*^9}, 3.5928051671707993`*^9, {3.592805208520172*^9, 
   3.5928052369237943`*^9}, {3.592805343047868*^9, 3.5928053680253024`*^9}, {
   3.5928053996561127`*^9, 3.592805402011248*^9}, {3.5928055048881397`*^9, 
   3.59280552582134*^9}, 3.5928055672257094`*^9, {3.592805612482297*^9, 
   3.5928056548337245`*^9}, 3.5928057292569895`*^9, {3.5928057970498705`*^9, 
   3.5928057975738974`*^9}, {3.592805864411729*^9, 3.5928059223460426`*^9}, {
   3.5928060444390383`*^9, 3.5928060500153575`*^9}, {3.5928060997682066`*^9, 
   3.5928061077896833`*^9}, {3.592806145600828*^9, 3.592806160144664*^9}, {
   3.592806219282069*^9, 3.592806263959609*^9}, {3.592806314641512*^9, 
   3.592806319264777*^9}, {3.592806349977539*^9, 3.592806359289068*^9}, {
   3.592806397528254*^9, 3.5928064102719884`*^9}, {3.592806492048684*^9, 
   3.5928065479548693`*^9}, {3.59280661913195*^9, 3.592806644560405*^9}, {
   3.592807964991214*^9, 3.592808023848581*^9}, {3.592808081911905*^9, 
   3.592808098774872*^9}, {3.5928082603221235`*^9, 3.592808336420479*^9}, {
   3.59280852244313*^9, 3.592808558100176*^9}, {3.5928089222680435`*^9, 
   3.5928089226050496`*^9}, {3.592808996475281*^9, 3.5928091003572288`*^9}, {
   3.5928091705962515`*^9, 3.592809170892268*^9}, {3.592809281873624*^9, 
   3.5928092999006557`*^9}, {3.592809379605237*^9, 3.592809393076987*^9}, {
   3.592809647294553*^9, 3.592809649632684*^9}, {3.592809687992881*^9, 
   3.592809699216544*^9}, {3.592809766097354*^9, 3.5928097712246475`*^9}, {
   3.5928098661930857`*^9, 3.5928099306407757`*^9}, {3.5928100819124393`*^9, 
   3.592810200450223*^9}, {3.5928102841940203`*^9, 3.592810297265785*^9}, {
   3.59281033930818*^9, 3.592810340227232*^9}, {3.5928104331235523`*^9, 
   3.5928104342026143`*^9}, {3.5928104967721963`*^9, 
   3.5928105038346004`*^9}, {3.5928105587977486`*^9, 
   3.5928105871073885`*^9}, {3.5928106728522787`*^9, 3.592810694636529*^9}, {
   3.592846346674084*^9, 3.592846364818123*^9}, {3.592846409139661*^9, 
   3.5928465597712903`*^9}, {3.5928466919748526`*^9, 
   3.5928467377834797`*^9}, {3.592847017535518*^9, 3.5928470209987135`*^9}, {
   3.5928471811488895`*^9, 3.592847187349238*^9}, {3.592848892268862*^9, 
   3.5928488927728863`*^9}, {3.5928490678969183`*^9, 3.592849213917281*^9}, {
   3.5928492527815065`*^9, 3.5928495563039074`*^9}, {3.5928496338243275`*^9, 
   3.5928496391606383`*^9}, {3.5928496846662445`*^9, 
   3.5928496930807214`*^9}, {3.5928497497039776`*^9, 3.592849939273819*^9}, {
   3.592850000675338*^9, 3.5928500285549316`*^9}, {3.592850153145067*^9, 
   3.5928502051620436`*^9}, {3.592850240339057*^9, 3.5928502564239817`*^9}, {
   3.5928503505393715`*^9, 3.592850530761692*^9}, {3.59285072210765*^9, 
   3.592850811059744*^9}, {3.5928508599015408`*^9, 3.5928508653478518`*^9}, {
   3.5928508963166265`*^9, 3.5928509255332994`*^9}, {3.5928509677897196`*^9, 
   3.59285110120936*^9}, {3.5928511392905397`*^9, 3.592851357714058*^9}, 
   3.592852400355908*^9, {3.5928524359965973`*^9, 3.5928525264186516`*^9}, {
   3.5928525792774286`*^9, 3.5928526359962893`*^9}, 3.5928526902307696`*^9, {
   3.5928527902778406`*^9, 3.5928527904184666`*^9}, {3.5928528312622957`*^9, 
   3.5928528344029264`*^9}, {3.592852892809292*^9, 3.5928529133249564`*^9}, 
   3.5928529607938004`*^9, 3.5928530165751553`*^9, {3.5928534119509315`*^9, 
   3.5928534276697083`*^9}, {3.5928534854510756`*^9, 
   3.5928534978417273`*^9}, {3.592853532919918*^9, 3.592853544701191*^9}, 
   3.592853612888824*^9, {3.5928536516701508`*^9, 3.592853713935897*^9}, {
   3.5928537562797303`*^9, 3.5928537655766225`*^9}, {3.592853921545678*^9, 
   3.5928539250769334`*^9}, {3.5928539881551833`*^9, 3.592854042655302*^9}, {
   3.59285412446795*^9, 3.5928541395304966`*^9}, {3.5928541714055433`*^9, 
   3.592854217436886*^9}, 3.5928652969640217`*^9, {3.592865335792221*^9, 
   3.5928653364015956`*^9}, {3.5928654554330854`*^9, 
   3.5928654582143393`*^9}, {3.592865775023473*^9, 3.592865781960985*^9}, {
   3.592866041649002*^9, 3.5928660928209705`*^9}, {3.592869362922924*^9, 
   3.5928693881753664`*^9}, {3.592869436632146*^9, 3.592869474814329*^9}, {
   3.5928698796215177`*^9, 3.5928699095132446`*^9}, 3.592869996605213*^9, {
   3.5933153177361712`*^9, 3.5933153585018773`*^9}, {3.593315752822384*^9, 
   3.5933157789398804`*^9}, {3.593315811884766*^9, 3.5933158142749124`*^9}, {
   3.5933161045373135`*^9, 3.5933161441467505`*^9}, {3.5933162616001043`*^9, 
   3.5933162694907446`*^9}, {3.5933167986324024`*^9, 
   3.5933167991167803`*^9}, {3.5933168594137726`*^9, 3.593317002617179*^9}, {
   3.593317137836193*^9, 3.5933171426799517`*^9}, {3.593317191805049*^9, 
   3.5933171946800547`*^9}, {3.593317298399054*^9, 3.5933173038677807`*^9}, {
   3.593317488086878*^9, 3.593317533852592*^9}, {3.5933176081027336`*^9, 
   3.5933176466653194`*^9}, {3.5933177363686113`*^9, 
   3.5933178720095005`*^9}, {3.593317907837699*^9, 3.5933180341348333`*^9}, {
   3.59331815896319*^9, 3.593318162213196*^9}, {3.5933183974636526`*^9, 
   3.5933183986355314`*^9}, {3.5933193113560696`*^9, 
   3.5933193458561525`*^9}, {3.593320387420673*^9, 3.593320391280056*^9}, {
   3.593320435545772*^9, 3.593320442061404*^9}, {3.5933205321709557`*^9, 
   3.593320637030537*^9}, 3.5933207849995728`*^9, {3.593320845530943*^9, 
   3.5933209017029285`*^9}, {3.5933209488592706`*^9, 3.5933209546874065`*^9}, 
   3.5933210297031794`*^9, {3.5933210912658176`*^9, 3.5933211425002747`*^9}, {
   3.5933211817034817`*^9, 3.593321182219103*^9}, {3.5933212255785723`*^9, 
   3.5933212336567154`*^9}, {3.5933213353131485`*^9, 
   3.5933213443131695`*^9}, {3.5933214341258583`*^9, 
   3.5933215240166645`*^9}, {3.5933215655636024`*^9, 
   3.5933215874542847`*^9}, {3.5933216184230814`*^9, 3.593321638188743*^9}, {
   3.593321687188853*^9, 3.5933216924544907`*^9}, {3.593321796923444*^9, 
   3.593321801376563*^9}, {3.593321936220578*^9, 3.5933219424393396`*^9}, {
   3.5933220277676315`*^9, 3.593322054033307*^9}, {3.5933220961115146`*^9, 
   3.5933221003146477`*^9}, {3.593322455096591*^9, 3.5933225006904287`*^9}, {
   3.5933225465342703`*^9, 3.5933225500499015`*^9}, {3.5933228246441884`*^9, 
   3.5933228277223206`*^9}, {3.593322948160056*^9, 3.5933229626132092`*^9}, {
   3.593323004957043*^9, 3.5933230072382956`*^9}, {3.593323056175891*^9, 
   3.593323116347884*^9}, {3.593323222723098*^9, 3.5933232479262624`*^9}, {
   3.593323648737109*^9, 3.593323650520211*^9}, {3.593324549732705*^9, 
   3.593324556036067*^9}, {3.5933247314191113`*^9, 3.5933247439948273`*^9}, {
   3.593324800420059*^9, 3.5933248748923264`*^9}, {3.5933249282073793`*^9, 
   3.5933249744020257`*^9}, {3.5933250419768953`*^9, 3.593325109104739*^9}, {
   3.593325144327755*^9, 3.5933251654169655`*^9}, {3.5933259067244167`*^9, 
   3.5933259225243206`*^9}, {3.5933265313501825`*^9, 3.59332653928566*^9}, {
   3.593326624153505*^9, 3.593326625296563*^9}, {3.5933267391270804`*^9, 
   3.5933267399021473`*^9}, {3.593326809806133*^9, 3.5933268175635767`*^9}, {
   3.5933277642627907`*^9, 3.5933277885981855`*^9}, {3.5933278779233*^9, 
   3.5933280459439216`*^9}, {3.5933280760196447`*^9, 
   3.5933280819949865`*^9}, {3.5933281282346325`*^9, 3.593328128833682*^9}, {
   3.593328178874534*^9, 3.593328184344847*^9}, {3.593328358502821*^9, 
   3.593328368055372*^9}, {3.5933284699972095`*^9, 3.5933285068763185`*^9}, {
   3.5933292043722615`*^9, 3.593329204920292*^9}, {3.59332923670611*^9, 
   3.593329238753231*^9}, {3.593329350461646*^9, 3.5933293507206397`*^9}, {
   3.593329384301566*^9, 3.593329385144615*^9}, {3.5933298249347987`*^9, 
   3.593329828075974*^9}, 3.5933299881521463`*^9, {3.5933301910117626`*^9, 
   3.5933302313450704`*^9}, {3.5933306323900385`*^9, 3.593330632935069*^9}, {
   3.5933315522307153`*^9, 3.5933316281670637`*^9}, {3.5933317853930807`*^9, 
   3.5933317869291687`*^9}, {3.593332055550538*^9, 3.593332121001286*^9}, 
   3.5933321512940173`*^9, {3.5933323755008607`*^9, 3.5933323820712347`*^9}, {
   3.593332622771025*^9, 3.5933326277143044`*^9}, {3.593332801821279*^9, 
   3.5933328222874465`*^9}, 3.6031947946664114`*^9}]
}, Open  ]]
},
AutoGeneratedPackage->Automatic,
WindowSize->{525, 547},
WindowMargins->{{214, Automatic}, {27, Automatic}},
FrontEndVersion->"9.0 for Microsoft Windows (32-bit) (January 25, 2013)",
StyleDefinitions->"Default.nb"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{}
*)
(*CellTagsIndex
CellTagsIndex->{}
*)
(*NotebookFileOutline
Notebook[{
Cell[CellGroupData[{
Cell[579, 22, 100, 1, 86, "Section"],
Cell[682, 25, 1388, 20, 52, "Input",
 InitializationCell->True]
}, Open  ]],
Cell[CellGroupData[{
Cell[2107, 50, 157, 2, 86, "Section"],
Cell[2267, 54, 10341, 267, 992, "Input",
 InitializationCell->True]
}, Open  ]],
Cell[CellGroupData[{
Cell[12645, 326, 155, 2, 86, "Section"],
Cell[12803, 330, 11829, 211, 992, "Input",
 InitializationCell->True]
}, Open  ]],
Cell[CellGroupData[{
Cell[24669, 546, 199, 3, 86, "Section"],
Cell[24871, 551, 5089, 81, 252, "Input",
 InitializationCell->True]
}, Open  ]],
Cell[CellGroupData[{
Cell[29997, 637, 30, 0, 86, "Section"],
Cell[30030, 639, 207, 4, 52, "Input",
 InitializationCell->True],
Cell[30240, 645, 42251, 732, 3892, "Input"]
}, Open  ]]
}
]
*)

(* End of internal cache information *)
