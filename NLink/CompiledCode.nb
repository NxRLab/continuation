(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Mathematica 9.0' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       157,          7]
NotebookDataLength[     49415,       1071]
NotebookOptionsPosition[     48361,       1030]
NotebookOutlinePosition[     48738,       1046]
CellTagsIndexPosition[     48695,       1043]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{
Cell[BoxData[
 RowBox[{"(*", "\n", 
  RowBox[{
   RowBox[{"CompiledCode", ".", 
    RowBox[{"nb", ":", " ", 
     RowBox[{
     "A", " ", "list", " ", "of", " ", "routines", " ", "that", " ", "will", 
      " ", "compile", " ", "various", " ", "NLink", " ", "functions", " ", 
      "to", " ", "C", " ", 
      RowBox[{"code", ".", "\n", "Copyright"}], " ", 
      RowBox[{"(", "C", ")"}], " ", "2014", " ", "Nelson", " ", "Rosa", " ", 
      RowBox[{"Jr", ".", "\n", "\n", "This"}], " ", "program", " ", "is", " ",
       "free", " ", "software"}], ":", " ", 
     RowBox[{"you", " ", "can", " ", "redistribute", " ", "it", " ", 
      RowBox[{"and", "/", "or"}], " ", "modify", "\n", "it", " ", "under", 
      " ", "the", " ", "terms", " ", "of", " ", "the", " ", "GNU", " ", 
      "General", " ", "Public", " ", "License", " ", "as", " ", "published", 
      " ", "by", "\n", 
      RowBox[{"the", " ", "Free", " ", "Software", " ", "Foundation"}]}]}]}], 
   ",", " ", 
   RowBox[{
   "either", " ", "version", " ", "3", " ", "of", " ", "the", " ", 
    "License"}], ",", " ", 
   RowBox[{"or", "\n", 
    RowBox[{"(", 
     RowBox[{"at", " ", "your", " ", "option"}], ")"}], " ", "any", " ", 
    "later", " ", 
    RowBox[{"version", ".", " ", "This"}], " ", "program", " ", "is", " ", 
    "distributed", " ", "in", " ", "the", " ", "\n", "hope", " ", "that", " ",
     "it", " ", "will", " ", "be", " ", "useful"}], ",", " ", 
   RowBox[{
    RowBox[{"but", " ", "WITHOUT", " ", "ANY", " ", "WARRANTY"}], ";", " ", 
    RowBox[{
    "without", " ", "even", " ", "the", " ", "\n", "implied", " ", "warranty",
      " ", "of", " ", "MERCHANTABILITY", " ", "or", " ", "FITNESS", " ", 
     "FOR", " ", "A", " ", "PARTICULAR", " ", 
     RowBox[{"PURPOSE", ".", "\n", "See"}], " ", "the", " ", "GNU", " ", 
     "General", " ", "Public", " ", "License", " ", "for", " ", "more", " ", 
     RowBox[{"details", ".", " ", "You"}], " ", "should", " ", "have", " ", 
     "\n", "received", " ", "a", " ", "copy", " ", "of", " ", "the", " ", 
     "GNU", " ", "General", " ", "Public", " ", "License", " ", "along", " ", 
     "with", " ", "this", " ", 
     RowBox[{"program", ".", "\n", "If"}], " ", "not"}]}], ",", " ", 
   RowBox[{
    RowBox[{"see", " ", "<", 
     RowBox[{"http", ":"}]}], "//", 
    RowBox[{
     RowBox[{
      RowBox[{
       RowBox[{"www", ".", "gnu", ".", "org"}], "/", "licenses"}], "/"}], ">",
      "."}]}]}], "\n", "*)"}]], "Code",
 InitializationCell->True,
 CellChangeTimes->{{3.6103707836964283`*^9, 3.610370783709448*^9}, {
  3.610370828952024*^9, 3.610370962648698*^9}, {3.6103710877518406`*^9, 
  3.610371111376195*^9}, {3.6103711469392376`*^9, 3.6103712325731497`*^9}, {
  3.610371305900334*^9, 3.610371331708816*^9}, {3.610371368620943*^9, 
  3.61037139802861*^9}, {3.6103715538125486`*^9, 3.6103716079966354`*^9}, {
  3.610371704956188*^9, 3.610371726308409*^9}}],

Cell[CellGroupData[{

Cell["Begin Package", "Section",
 CellChangeTimes->{{3.5914870039053636`*^9, 3.591487004222381*^9}}],

Cell[BoxData[{
 RowBox[{"BeginPackage", "[", "\"\<NLink`\>\"", "]"}], "\[IndentingNewLine]", 
 RowBox[{"Begin", "[", "\"\<`Private`\>\"", "]"}]}], "Input",
 InitializationCell->True,
 CellChangeTimes->{
  3.5844197483839703`*^9, {3.5844250604318256`*^9, 3.5844250721475377`*^9}, {
   3.5844251233785*^9, 3.5844251234877005`*^9}, {3.5844253988774505`*^9, 
   3.5844254390946617`*^9}, {3.5844254919948354`*^9, 3.5844254990149255`*^9}, 
   3.584425543397398*^9, {3.584425574800518*^9, 3.584425581945394*^9}, {
   3.5844256737523947`*^9, 3.5844257230957055`*^9}, {3.5844279668250203`*^9, 
   3.5844279860756264`*^9}, {3.584428374816189*^9, 3.584428378919037*^9}, {
   3.5914865865694637`*^9, 3.591486626255737*^9}, {3.5914867823906765`*^9, 
   3.5914867827646985`*^9}, {3.591486817520689*^9, 3.5914868205858636`*^9}, {
   3.591486965884186*^9, 3.5914869664642324`*^9}, {3.5915022447717495`*^9, 
   3.5915022459698176`*^9}, {3.591542902441803*^9, 3.591542929051241*^9}, {
   3.59154329988008*^9, 3.591543327692632*^9}, 3.5915439898189273`*^9, {
   3.5915443331789765`*^9, 3.5915443348977413`*^9}, {3.591544409656703*^9, 
   3.591544412687962*^9}, {3.591721260928192*^9, 3.591721326772053*^9}, {
   3.5922422663532963`*^9, 3.592242267056429*^9}, {3.5922818277082567`*^9, 
   3.59228183637475*^9}, {3.593367653922082*^9, 3.5933676540470953`*^9}, {
   3.60224862205973*^9, 3.602248628162079*^9}}]
}, Open  ]],

Cell[CellGroupData[{

Cell["Inlined functions", "Section",
 CellChangeTimes->{{3.5914870039053636`*^9, 3.591487004222381*^9}, {
  3.6031948693446865`*^9, 3.6031948721538477`*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"Precompile", "[", "]"}], " ", ":=", " ", 
   RowBox[{"(", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"Off", "[", 
      StyleBox[
       RowBox[{"Part", "::", "partd"}], "MessageName"], "]"}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"cf", "[", "1", "]"}], " ", "=", " ", 
      RowBox[{"With", "[", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"A", " ", "=", " ", 
          RowBox[{"N", "@", 
           RowBox[{"mx", "[", 
            RowBox[{"Table", "[", 
             RowBox[{
              RowBox[{
              "x", "\[LeftDoubleBracket]", "i", "\[RightDoubleBracket]"}], 
              ",", " ", 
              RowBox[{"{", 
               RowBox[{"i", ",", " ", "nm"}], "}"}]}], "]"}], "]"}]}]}], 
         "}"}], ",", " ", 
        RowBox[{"Compile", "[", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{"{", 
            RowBox[{"x", ",", " ", "_Real", ",", " ", "1"}], "}"}], "}"}], 
          ",", " ", "A"}], "]"}]}], "]"}]}], ";", "\[IndentingNewLine]", 
     "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"cf", "[", "2", "]"}], " ", "=", " ", 
      RowBox[{"With", "[", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"A", " ", "=", " ", 
          RowBox[{"N", "@", 
           RowBox[{"mxstar", "[", 
            RowBox[{"Table", "[", 
             RowBox[{
              RowBox[{
              "x", "\[LeftDoubleBracket]", "i", "\[RightDoubleBracket]"}], 
              ",", " ", 
              RowBox[{"{", 
               RowBox[{"i", ",", " ", "nm"}], "}"}]}], "]"}], "]"}]}]}], 
         "}"}], ",", " ", 
        RowBox[{"Compile", "[", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{"{", 
            RowBox[{"x", ",", " ", "_Real", ",", " ", "1"}], "}"}], "}"}], 
          ",", " ", "A"}], "]"}]}], "]"}]}], ";", "\[IndentingNewLine]", 
     "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"cf", "[", "3", "]"}], " ", "=", " ", 
      RowBox[{"With", "[", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"A", " ", "=", " ", 
          RowBox[{"N", "[", 
           RowBox[{"Xip", "[", "x", "]"}], "]"}]}], "}"}], ",", " ", 
        RowBox[{"Compile", "[", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{"{", 
            RowBox[{"x", ",", " ", "_Real", ",", " ", "1"}], "}"}], "}"}], 
          ",", " ", "A"}], "]"}]}], "]"}]}], ";", "\[IndentingNewLine]", 
     "\[IndentingNewLine]", 
     RowBox[{"(*", " ", 
      RowBox[{
      "workaround", " ", "for", " ", "possible", " ", "bug", " ", "in", " ", 
       "Compile", " ", "where", " ", "return", " ", "type", " ", "is", " ", 
       "wrong"}], " ", "*)"}], "\[IndentingNewLine]", 
     RowBox[{"(*", 
      RowBox[{
       RowBox[{
        RowBox[{"cf", "[", "4", "]"}], " ", "=", " ", 
        RowBox[{"With", "[", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{"A", " ", "=", " ", 
            RowBox[{"N", "[", 
             RowBox[{"s", "[", "x", "]"}], "]"}]}], "}"}], ",", " ", 
          RowBox[{"Compile", "[", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"{", 
              RowBox[{"x", ",", " ", "_Real", ",", " ", "1"}], "}"}], "}"}], 
            ",", " ", "A"}], "]"}]}], "]"}]}], ";"}], "*)"}], 
     "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"cf", "[", "4", "]"}], " ", "=", " ", 
      RowBox[{"With", "[", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"A", " ", "=", " ", 
          RowBox[{"N", "[", 
           RowBox[{"Partition", "[", 
            RowBox[{
             RowBox[{"Flatten", "@", 
              RowBox[{"s", "[", "x", "]"}]}], ",", " ", "nm"}], "]"}], 
           "]"}]}], "}"}], ",", " ", 
        RowBox[{"Compile", "[", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{"{", 
            RowBox[{"x", ",", " ", "_Real", ",", " ", "1"}], "}"}], "}"}], 
          ",", " ", "A"}], "]"}]}], "]"}]}], ";", "\[IndentingNewLine]", 
     "\[IndentingNewLine]", 
     RowBox[{"(*", 
      RowBox[{
       RowBox[{
        RowBox[{"cf", "[", "5", "]"}], " ", "=", " ", 
        RowBox[{"With", "[", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{"A", " ", "=", " ", 
            RowBox[{"N", "[", 
             RowBox[{"sdot", "[", "x", "]"}], "]"}]}], "}"}], ",", " ", 
          RowBox[{"Compile", "[", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"{", 
              RowBox[{"x", ",", " ", "_Real", ",", " ", "1"}], "}"}], "}"}], 
            ",", " ", "A"}], "]"}]}], "]"}]}], ";"}], "*)"}], 
     "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"cf", "[", "5", "]"}], " ", "=", " ", 
      RowBox[{"With", "[", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"A", " ", "=", " ", 
          RowBox[{"N", "[", 
           RowBox[{"Partition", "[", 
            RowBox[{
             RowBox[{"Flatten", "@", 
              RowBox[{"sdot", "[", "x", "]"}]}], ",", " ", "nm"}], "]"}], 
           "]"}]}], "}"}], ",", " ", 
        RowBox[{"Compile", "[", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{"{", 
            RowBox[{"x", ",", " ", "_Real", ",", " ", "1"}], "}"}], "}"}], 
          ",", " ", "A"}], "]"}]}], "]"}]}], ";", "\[IndentingNewLine]", 
     "\[IndentingNewLine]", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{"mb", " ", ">", " ", "0"}], ",", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{
         RowBox[{"cf", "[", "6", "]"}], " ", "=", " ", 
         RowBox[{"With", "[", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{"A", " ", "=", " ", 
             RowBox[{"N", "[", 
              RowBox[{"r", "[", "x", "]"}], "]"}]}], "}"}], ",", " ", 
           RowBox[{"Compile", "[", 
            RowBox[{
             RowBox[{"{", 
              RowBox[{"{", 
               RowBox[{"x", ",", " ", "_Real", ",", " ", "1"}], "}"}], "}"}], 
             ",", " ", "A"}], "]"}]}], "]"}]}], ";", "\[IndentingNewLine]", 
        "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{"cf", "[", "7", "]"}], " ", "=", " ", 
         RowBox[{"With", "[", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{"A", " ", "=", " ", 
             RowBox[{"N", "[", 
              RowBox[{"rdot", "[", "x", "]"}], "]"}]}], "}"}], ",", " ", 
           RowBox[{"Compile", "[", 
            RowBox[{
             RowBox[{"{", 
              RowBox[{"{", 
               RowBox[{"x", ",", " ", "_Real", ",", " ", "1"}], "}"}], "}"}], 
             ",", " ", "A"}], "]"}]}], "]"}]}], ";", "\[IndentingNewLine]", 
        "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{"cf", "[", "8", "]"}], " ", "=", " ", 
         RowBox[{"With", "[", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{"A", " ", "=", " ", 
             RowBox[{"N", "[", 
              RowBox[{"Xdotip", "[", "x", "]"}], "]"}]}], "}"}], ",", " ", 
           RowBox[{"Compile", "[", 
            RowBox[{
             RowBox[{"{", 
              RowBox[{"{", 
               RowBox[{"x", ",", " ", "_Real", ",", " ", "1"}], "}"}], "}"}], 
             ",", " ", "A"}], "]"}]}], "]"}]}], ";"}], ",", 
       "\[IndentingNewLine]", "\[IndentingNewLine]", 
       RowBox[{"(*", " ", 
        RowBox[{"else", ",", " ", 
         RowBox[{
         "assign", " ", "nothing", " ", "so", " ", "EvaluateFunction", " ", 
          "can", " ", "be", " ", "simple", " ", "and", " ", "quick"}]}], " ", 
        "*)"}], "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{
         RowBox[{"cf", "[", "6", "]"}], " ", "=", " ", 
         RowBox[{
          RowBox[{"cf", "[", "7", "]"}], " ", "=", " ", 
          RowBox[{
           RowBox[{"cf", "[", "8", "]"}], " ", "=", " ", 
           RowBox[{"False", "&"}]}]}]}], ";"}]}], "\[IndentingNewLine]", 
      "]"}], ";", "\[IndentingNewLine]", "\[IndentingNewLine]", 
     RowBox[{"(*", 
      RowBox[{
       RowBox[{
        RowBox[{"cf", "[", "9", "]"}], " ", "=", " ", 
        RowBox[{"With", "[", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{"A", " ", "=", " ", 
            RowBox[{"N", "[", 
             RowBox[{"\[DoubleStruckCapitalI]", "[", "x", "]"}], "]"}]}], 
           "}"}], ",", " ", 
          RowBox[{"Compile", "[", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"{", 
              RowBox[{"x", ",", " ", "_Real", ",", " ", "1"}], "}"}], "}"}], 
            ",", " ", "A"}], "]"}]}], "]"}]}], ";"}], "*)"}], 
     "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"cf", "[", "9", "]"}], " ", "=", " ", 
      RowBox[{"With", "[", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"A", " ", "=", " ", 
          RowBox[{"N", "[", 
           RowBox[{
            RowBox[{
             RowBox[{"Partition", "[", 
              RowBox[{"#", ",", " ", "nm"}], "]"}], "&"}], " ", "/@", "  ", 
            RowBox[{"Partition", "[", 
             RowBox[{
              RowBox[{"Flatten", "[", 
               RowBox[{"\[DoubleStruckCapitalI]", "[", "x", "]"}], "]"}], ",",
               " ", 
              RowBox[{"nm", "^", "2"}]}], "]"}]}], "]"}]}], "}"}], ",", " ", 
        RowBox[{"Compile", "[", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{"{", 
            RowBox[{"x", ",", " ", "_Real", ",", " ", "1"}], "}"}], "}"}], 
          ",", " ", "A"}], "]"}]}], "]"}]}], ";", "\[IndentingNewLine]", 
     "\[IndentingNewLine]", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{"nd", " ", ">", " ", "0"}], ",", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{
         RowBox[{"cf", "[", 
          RowBox[{"-", "1"}], "]"}], " ", "=", " ", 
         RowBox[{"With", "[", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{"A", " ", "=", " ", 
             RowBox[{"N", "@", 
              RowBox[{"dmx", "[", 
               RowBox[{"Table", "[", 
                RowBox[{
                 RowBox[{
                 "x", "\[LeftDoubleBracket]", "i", "\[RightDoubleBracket]"}], 
                 ",", " ", 
                 RowBox[{"{", 
                  RowBox[{"i", ",", " ", "nm"}], "}"}]}], "]"}], "]"}]}]}], 
            "}"}], ",", " ", 
           RowBox[{"Compile", "[", 
            RowBox[{
             RowBox[{"{", 
              RowBox[{"{", 
               RowBox[{"x", ",", " ", "_Real", ",", " ", "1"}], "}"}], "}"}], 
             ",", " ", "A"}], "]"}]}], "]"}]}], ";", "\[IndentingNewLine]", 
        "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{"cf", "[", 
          RowBox[{"-", "2"}], "]"}], " ", "=", " ", 
         RowBox[{"With", "[", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{"A", " ", "=", " ", 
             RowBox[{"N", "@", 
              RowBox[{"dmxstar", "[", 
               RowBox[{"Table", "[", 
                RowBox[{
                 RowBox[{
                 "x", "\[LeftDoubleBracket]", "i", "\[RightDoubleBracket]"}], 
                 ",", " ", 
                 RowBox[{"{", 
                  RowBox[{"i", ",", " ", "nm"}], "}"}]}], "]"}], "]"}]}]}], 
            "}"}], ",", " ", 
           RowBox[{"Compile", "[", 
            RowBox[{
             RowBox[{"{", 
              RowBox[{"{", 
               RowBox[{"x", ",", " ", "_Real", ",", " ", "1"}], "}"}], "}"}], 
             ",", " ", "A"}], "]"}]}], "]"}]}], ";", "\[IndentingNewLine]", 
        "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{"cf", "[", 
          RowBox[{"-", "3"}], "]"}], " ", "=", " ", 
         RowBox[{"With", "[", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{"A", " ", "=", " ", 
             RowBox[{"N", "[", 
              RowBox[{"dXip", "[", 
               RowBox[{"x", ",", " ", "dx"}], "]"}], "]"}]}], "}"}], ",", " ", 
           RowBox[{"Compile", "[", 
            RowBox[{
             RowBox[{"{", 
              RowBox[{
               RowBox[{"{", 
                RowBox[{"x", ",", " ", "_Real", ",", " ", "1"}], "}"}], ",", 
               " ", 
               RowBox[{"{", 
                RowBox[{"dx", ",", " ", "_Real", ",", " ", "2"}], "}"}]}], 
              "}"}], ",", " ", "A"}], "]"}]}], "]"}]}], ";", 
        "\[IndentingNewLine]", "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{"cf", "[", 
          RowBox[{"-", "4"}], "]"}], " ", "=", " ", 
         RowBox[{"With", "[", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{"A", " ", "=", " ", 
             RowBox[{"N", "[", 
              RowBox[{"ds", "[", 
               RowBox[{"x", ",", " ", "dx"}], "]"}], "]"}]}], "}"}], ",", " ", 
           RowBox[{"Compile", "[", 
            RowBox[{
             RowBox[{"{", 
              RowBox[{
               RowBox[{"{", 
                RowBox[{"x", ",", " ", "_Real", ",", " ", "1"}], "}"}], ",", 
               " ", 
               RowBox[{"{", 
                RowBox[{"dx", ",", " ", "_Real", ",", " ", "2"}], "}"}]}], 
              "}"}], ",", " ", "A"}], "]"}]}], "]"}]}], ";", 
        "\[IndentingNewLine]", "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{"cf", "[", 
          RowBox[{"-", "5"}], "]"}], " ", "=", " ", 
         RowBox[{"With", "[", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{"A", " ", "=", " ", 
             RowBox[{"N", "[", 
              RowBox[{"dsdot", "[", 
               RowBox[{"x", ",", " ", "dx"}], "]"}], "]"}]}], "}"}], ",", " ", 
           RowBox[{"Compile", "[", 
            RowBox[{
             RowBox[{"{", 
              RowBox[{
               RowBox[{"{", 
                RowBox[{"x", ",", " ", "_Real", ",", " ", "1"}], "}"}], ",", 
               " ", 
               RowBox[{"{", 
                RowBox[{"dx", ",", " ", "_Real", ",", " ", "2"}], "}"}]}], 
              "}"}], ",", " ", "A"}], "]"}]}], "]"}]}], ";", 
        "\[IndentingNewLine]", "\[IndentingNewLine]", 
        RowBox[{"If", "[", 
         RowBox[{
          RowBox[{"mb", " ", ">", " ", "0"}], ",", "\[IndentingNewLine]", 
          RowBox[{
           RowBox[{
            RowBox[{"cf", "[", 
             RowBox[{"-", "6"}], "]"}], " ", "=", " ", 
            RowBox[{"With", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"A", " ", "=", " ", 
                RowBox[{"N", "[", 
                 RowBox[{"dr", "[", 
                  RowBox[{"x", ",", " ", "dx"}], "]"}], "]"}]}], "}"}], ",", 
              " ", 
              RowBox[{"Compile", "[", 
               RowBox[{
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"{", 
                   RowBox[{"x", ",", " ", "_Real", ",", " ", "1"}], "}"}], 
                  ",", " ", 
                  RowBox[{"{", 
                   RowBox[{"dx", ",", " ", "_Real", ",", " ", "2"}], "}"}]}], 
                 "}"}], ",", " ", "A"}], "]"}]}], "]"}]}], ";", 
           "\[IndentingNewLine]", "\[IndentingNewLine]", 
           RowBox[{
            RowBox[{"cf", "[", 
             RowBox[{"-", "7"}], "]"}], " ", "=", " ", 
            RowBox[{"With", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"A", " ", "=", " ", 
                RowBox[{"N", "[", 
                 RowBox[{"drdot", "[", 
                  RowBox[{"x", ",", " ", "dx"}], "]"}], "]"}]}], "}"}], ",", 
              " ", 
              RowBox[{"Compile", "[", 
               RowBox[{
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"{", 
                   RowBox[{"x", ",", " ", "_Real", ",", " ", "1"}], "}"}], 
                  ",", " ", 
                  RowBox[{"{", 
                   RowBox[{"dx", ",", " ", "_Real", ",", " ", "2"}], "}"}]}], 
                 "}"}], ",", " ", "A"}], "]"}]}], "]"}]}], ";", 
           "\[IndentingNewLine]", "\[IndentingNewLine]", 
           RowBox[{
            RowBox[{"cf", "[", 
             RowBox[{"-", "8"}], "]"}], " ", "=", " ", 
            RowBox[{"With", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"A", " ", "=", " ", 
                RowBox[{"N", "[", 
                 RowBox[{"dXdotip", "[", 
                  RowBox[{"x", ",", " ", "dx"}], "]"}], "]"}]}], "}"}], ",", 
              " ", 
              RowBox[{"Compile", "[", 
               RowBox[{
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"{", 
                   RowBox[{"x", ",", " ", "_Real", ",", " ", "1"}], "}"}], 
                  ",", " ", 
                  RowBox[{"{", 
                   RowBox[{"dx", ",", " ", "_Real", ",", " ", "2"}], "}"}]}], 
                 "}"}], ",", " ", "A"}], "]"}]}], "]"}]}], ";"}], ",", 
          "\[IndentingNewLine]", "\[IndentingNewLine]", 
          RowBox[{"(*", " ", 
           RowBox[{"else", ",", " ", 
            RowBox[{
            "same", " ", "as", " ", "above", " ", "but", " ", "for", " ", 
             "EvaluateDerivatives"}]}], " ", "*)"}], "\[IndentingNewLine]", 
          RowBox[{
           RowBox[{
            RowBox[{"cf", "[", 
             RowBox[{"-", "6"}], "]"}], " ", "=", " ", 
            RowBox[{
             RowBox[{"cf", "[", 
              RowBox[{"-", "7"}], "]"}], " ", "=", " ", 
             RowBox[{
              RowBox[{"cf", "[", 
               RowBox[{"-", "8"}], "]"}], " ", "=", " ", 
              RowBox[{"False", "&"}]}]}]}], ";"}]}], "\[IndentingNewLine]", 
         "]"}], ";", "\[IndentingNewLine]", "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{"cf", "[", 
          RowBox[{"-", "9"}], "]"}], " ", "=", " ", 
         RowBox[{"With", "[", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{"A", " ", "=", " ", 
             RowBox[{"N", "[", 
              RowBox[{"d\[DoubleStruckCapitalI]", "[", 
               RowBox[{"x", ",", " ", "dx"}], "]"}], "]"}]}], "}"}], ",", " ", 
           RowBox[{"Compile", "[", 
            RowBox[{
             RowBox[{"{", 
              RowBox[{
               RowBox[{"{", 
                RowBox[{"x", ",", " ", "_Real", ",", " ", "1"}], "}"}], ",", 
               " ", 
               RowBox[{"{", 
                RowBox[{"dx", ",", " ", "_Real", ",", " ", "2"}], "}"}]}], 
              "}"}], ",", " ", "A"}], "]"}]}], "]"}]}], ";"}]}], 
      "\[IndentingNewLine]", "]"}], ";", "\[IndentingNewLine]", 
     RowBox[{"On", "[", 
      StyleBox[
       RowBox[{"Part", "::", "partd"}], "MessageName"], "]"}], ";"}], 
    "\[IndentingNewLine]", ")"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.59333159514917*^9, 3.593331595568194*^9}, {
   3.5933317398224573`*^9, 3.593331778065648*^9}, {3.593366793475771*^9, 
   3.5933667937882695`*^9}, {3.6031490083234243`*^9, 3.603149019851101*^9}, {
   3.603157568302624*^9, 3.6031576764108152`*^9}, {3.6031643223250556`*^9, 
   3.6031643770272074`*^9}, {3.603164410333095*^9, 3.6031644239368873`*^9}, {
   3.6031661887929416`*^9, 3.6031661907800555`*^9}, {3.603167623426098*^9, 
   3.60316762927643*^9}, {3.6031676760751104`*^9, 3.603167689169863*^9}, {
   3.6031946306210155`*^9, 3.6031946313040557`*^9}, {3.6031946815119305`*^9, 
   3.603194689203371*^9}, {3.6034211081933055`*^9, 3.6034211971504*^9}, {
   3.6034240961798377`*^9, 3.603424111023617*^9}, {3.603601285122724*^9, 
   3.6036013416689615`*^9}, {3.604766973009379*^9, 3.604767048508702*^9}, {
   3.6048104280196066`*^9, 3.60481045304004*^9}, {3.605123857757188*^9, 
   3.605123926819821*^9}, {3.605123998507475*^9, 3.6051241446639967`*^9}, {
   3.605124311570574*^9, 3.605124358867541*^9}, {3.6051246618299403`*^9, 
   3.6051246840487328`*^9}, {3.6051248058614817`*^9, 3.6051248059395957`*^9}, 
   3.605124836861545*^9, {3.6051249286742105`*^9, 3.605124977393058*^9}, {
   3.6051250462994404`*^9, 3.6051250663776045`*^9}, {3.6051251520340195`*^9, 
   3.6051251628465433`*^9}, {3.605125674988172*^9, 3.6051256852538204`*^9}, {
   3.6051257305820246`*^9, 3.6051257325820293`*^9}, {3.6051342488643193`*^9, 
   3.605134274364375*^9}, 3.6051344504584646`*^9, {3.605134847037357*^9, 
   3.605134871646804*^9}, {3.6051446361084023`*^9, 3.605144653749047*^9}, {
   3.605144693483498*^9, 3.6051447415148478`*^9}, {3.605144837593154*^9, 
   3.6051448439056687`*^9}, {3.60514822971427*^9, 3.6051482358236446`*^9}, {
   3.6051495053573947`*^9, 3.6051495798262835`*^9}, {3.6051498593736906`*^9, 
   3.6051498607330875`*^9}, {3.605395375925671*^9, 3.6053954048476057`*^9}, 
   3.615209297213266*^9, {3.615329603838849*^9, 3.615329615260746*^9}, {
   3.61532965340145*^9, 3.6153296627295923`*^9}, {3.6153369209410954`*^9, 
   3.6153369434880114`*^9}, {3.615336976769328*^9, 3.6153371000508184`*^9}, {
   3.6153371903322463`*^9, 3.6153371966291337`*^9}, {3.6153374803640623`*^9, 
   3.615337492848462*^9}, {3.615337527832906*^9, 3.615337557489214*^9}, {
   3.615337635111225*^9, 3.6153376358768344`*^9}, {3.615337720580125*^9, 
   3.6153377554239416`*^9}, {3.6153930990768356`*^9, 
   3.6153931272254515`*^9}, {3.615393167105728*^9, 3.6153932178436365`*^9}, {
   3.615396631151561*^9, 3.6153966516837325`*^9}, {3.6154037430664005`*^9, 
   3.6154037443164043`*^9}, {3.6154051079753213`*^9, 3.615405155131662*^9}, {
   3.6207542896701293`*^9, 3.6207543443889985`*^9}, {3.6207543881703205`*^9, 
   3.620754447904831*^9}, {3.621957210369339*^9, 3.6219572824632425`*^9}, {
   3.6219573203423443`*^9, 3.621957323639208*^9}}]
}, Open  ]],

Cell[CellGroupData[{

Cell["Compile Templates", "Section",
 CellChangeTimes->{{3.5914870039053636`*^9, 3.591487004222381*^9}, {
  3.6031948693446865`*^9, 3.603194903724656*^9}}],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"WithTemplate", "[", "]"}], " ", ":=", " ", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"parent", " ", "=", " ", "parent"}], ",", " ", 
      RowBox[{"Zspat", " ", "=", " ", 
       RowBox[{"N", "@", "Zspat"}]}], ",", " ", 
      RowBox[{"Zdspat", " ", "=", " ", 
       RowBox[{"N", "@", "Zdspat"}]}], ",", " ", 
      RowBox[{"\[DoubleStruckCapitalI]", "  ", "=", " ", 
       RowBox[{"cf", "[", "9", "]"}]}], ",", " ", 
      RowBox[{"d\[DoubleStruckCapitalI]", " ", "=", " ", 
       RowBox[{"cf", "[", 
        RowBox[{"-", "9"}], "]"}]}], ",", " ", 
      RowBox[{"Xip", " ", "=", " ", 
       RowBox[{"cf", "[", "3", "]"}]}], ",", " ", 
      RowBox[{"dXip", " ", "=", " ", 
       RowBox[{"cf", "[", 
        RowBox[{"-", "3"}], "]"}]}], ",", " ", 
      RowBox[{"Xdotip", " ", "=", " ", 
       RowBox[{"cf", "[", "8", "]"}]}], ",", " ", 
      RowBox[{"dXdotip", " ", "=", " ", 
       RowBox[{"cf", "[", 
        RowBox[{"-", "8"}], "]"}]}], ",", " ", 
      RowBox[{"pararr", " ", "=", " ", "parent"}], ",", " ", 
      RowBox[{"nq", " ", "=", " ", "nq"}], ",", " ", 
      RowBox[{"nx", " ", "=", " ", "nx"}], ",", "  ", 
      RowBox[{"nd", " ", "=", " ", "nd"}], ",", " ", 
      RowBox[{"np", " ", "=", " ", "np"}], ",", " ", 
      RowBox[{"nc", " ", "=", " ", "nc"}], ",", " ", 
      RowBox[{"s", " ", "=", 
       RowBox[{"cf", "[", "4", "]"}]}], ",", " ", 
      RowBox[{"ds", " ", "=", 
       RowBox[{"cf", "[", 
        RowBox[{"-", "4"}], "]"}]}], ",", " ", 
      RowBox[{"sdot", " ", "=", 
       RowBox[{"cf", "[", "5", "]"}]}], ",", " ", 
      RowBox[{"dsdot", " ", "=", 
       RowBox[{"cf", "[", 
        RowBox[{"-", "5"}], "]"}]}], ",", " ", 
      RowBox[{"r", " ", "=", 
       RowBox[{"cf", "[", "6", "]"}]}], ",", " ", 
      RowBox[{"dr", " ", "=", 
       RowBox[{"cf", "[", 
        RowBox[{"-", "6"}], "]"}]}], ",", " ", 
      RowBox[{"rdot", " ", "=", " ", 
       RowBox[{"cf", "[", "7", "]"}]}], ",", " ", 
      RowBox[{"drdot", " ", "=", " ", 
       RowBox[{"cf", "[", 
        RowBox[{"-", "7"}], "]"}]}], ",", " ", 
      RowBox[{"ag", " ", "=", " ", 
       RowBox[{"N", "@", "ag"}]}], ",", " ", 
      RowBox[{"mx", " ", "=", " ", 
       RowBox[{"cf", "[", "1", "]"}]}], ",", " ", 
      RowBox[{"dmx", " ", "=", " ", 
       RowBox[{"cf", "[", 
        RowBox[{"-", "1"}], "]"}]}], ",", " ", 
      RowBox[{"mxstar", " ", "=", " ", 
       RowBox[{"cf", "[", "2", "]"}]}], ",", " ", 
      RowBox[{"dmxstar", " ", "=", " ", 
       RowBox[{"cf", "[", 
        RowBox[{"-", "2"}], "]"}]}], ",", " ", 
      RowBox[{"ZM", " ", "=", " ", 
       RowBox[{"N", "@", "ZM"}]}], ",", " ", 
      RowBox[{"ZdM", " ", "=", " ", 
       RowBox[{"N", "@", "ZdM"}]}], ",", 
      RowBox[{"ZJ", " ", "=", " ", 
       RowBox[{"N", "@", "ZJ"}]}], ",", " ", 
      RowBox[{"ZdJ", " ", "=", " ", 
       RowBox[{"N", "@", "ZdJ"}]}], ",", " ", 
      RowBox[{"bodies", " ", "=", " ", "bodies"}], ",", " ", 
      RowBox[{"mb", " ", "=", " ", "mb"}], ",", " ", 
      RowBox[{"Zosim", " ", "=", " ", 
       RowBox[{"N", "@", "Zosim"}]}], ",", " ", 
      RowBox[{"Zdosim", " ", "=", " ", 
       RowBox[{"N", "@", "Zdosim"}]}], ",", " ", 
      RowBox[{"nca", " ", "=", " ", "nca"}], ",", " ", 
      RowBox[{"znq", " ", "=", " ", 
       RowBox[{"N", "@", "znq"}]}], ",", " ", 
      RowBox[{"Znq", " ", "=", " ", 
       RowBox[{"N", "@", "Znq"}]}], ",", " ", 
      RowBox[{"zmb", " ", "=", " ", 
       RowBox[{"N", "@", "zmb"}]}], ",", " ", 
      RowBox[{"Zmb", " ", "=", " ", 
       RowBox[{"N", "@", "Zmb"}]}], ",", " ", 
      RowBox[{"ZX", " ", "=", " ", 
       RowBox[{"N", "@", "ZX"}]}], ",", " ", 
      RowBox[{"ZdX", " ", "=", " ", 
       RowBox[{"N", "@", "ZdX"}]}], ",", " ", 
      RowBox[{"bx", " ", "=", " ", "bx"}], ",", " ", 
      RowBox[{"bl", " ", "=", " ", "bl"}], ",", " ", 
      RowBox[{"z1", " ", "=", " ", 
       RowBox[{"N", "@", "z1"}]}], ",", " ", 
      RowBox[{"Imb", " ", "=", " ", 
       RowBox[{"N", "@", "Imb"}]}], ",", " ", 
      RowBox[{"$MachineEpsilon", " ", "=", " ", "$MachineEpsilon"}]}], 
     "}"}]}], ";"}], "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"BlockTemplate", "[", "]"}], " ", ":=", " ", 
    RowBox[{"{", 
     RowBox[{
     "sJ", ",", " ", "dsJ", ",", " ", "sJdot", ",", " ", "dsJdot", ",", " ", 
      "XL", ",", " ", "dXL", ",", " ", "XLdot", ",", " ", "dXLdot", ",", " ", 
      "qdd", ",", " ", "dqdd", ",", " ", "c", ",", " ", "dc", ",", " ", "M", 
      ",", " ", "dM", ",", " ", "v", ",", " ", "dv", ",", " ", "a", ",", " ", 
      "da", ",", " ", "f", ",", " ", "df", ",", " ", 
      "\[DoubleStruckCapitalI]J", ",", " ", "d\[DoubleStruckCapitalI]J", ",", 
      " ", "IC", ",", " ", "dIC", ",", " ", "uJ", ",", " ", "duJ", ",", " ", 
      "U", ",", " ", "dU", ",", " ", "d", ",", " ", "dd", ",", " ", "ac", ",",
       " ", "dac", ",", " ", "ac1", ",", " ", "ac2", ",", " ", "ac3", ",", 
      " ", "rJ", ",", " ", "drJ", ",", " ", "rJdot", ",", " ", "drJdot", ",", 
      " ", "J", ",", " ", "dJ", ",", " ", "Jdot", ",", " ", "dJdot", ",", " ",
       "\[CapitalLambda]", ",", " ", "d\[CapitalLambda]", ",", " ", 
      "\[CapitalLambda]inv", ",", " ", "d\[CapitalLambda]inv", ",", " ", "Yd",
       ",", " ", "dYd", ",", " ", "YD", ",", " ", "dYD", ",", " ", "Pqdd", 
      ",", " ", "dPqdd", ",", " ", "xx", ",", " ", "uu", ",", " ", "dxx", ",",
       " ", "duu", ",", " ", "X", ",", " ", "dX", ",", " ", "Xdot", ",", " ", 
      "dXdot"}], "}"}]}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"FunctionTemplate", "[", "code_", "]"}], " ", ":=", " ", 
   RowBox[{"Dispatch", "[", 
    RowBox[{"Join", "[", 
     RowBox[{
      RowBox[{"DownValues", "[", "WithTemplate", "]"}], ",", " ", 
      RowBox[{"DownValues", "[", "BlockTemplate", "]"}], ",", " ", "code", 
      ",", " ", 
      RowBox[{"DownValues", "[", "EvaluateFunctions", "]"}], ",", " ", 
      RowBox[{"DownValues", "[", "EvaluateDerivatives", "]"}], ",", " ", 
      RowBox[{"DownValues", "[", "Fcrb", "]"}], ",", " ", 
      RowBox[{"DownValues", "[", "Faba", "]"}], ",", " ", 
      RowBox[{"DownValues", "[", "RNEA", "]"}], ",", " ", 
      RowBox[{"DownValues", "[", "CRB", "]"}], ",", "  ", 
      RowBox[{"DownValues", "[", "ABA", "]"}], ",", " ", 
      RowBox[{"DownValues", "[", "LTDL", "]"}], ",", " ", 
      RowBox[{"DownValues", "[", "Minvx", "]"}], ",", " ", 
      RowBox[{"DownValues", "[", "LTinvx", "]"}], ",", " ", 
      RowBox[{"DownValues", "[", "Linvx", "]"}], ",", " ", 
      RowBox[{"DownValues", "[", "dFcrb", "]"}], ",", " ", 
      RowBox[{"DownValues", "[", "dFaba", "]"}], ",", " ", 
      RowBox[{"DownValues", "[", "dRNEA", "]"}], ",", " ", 
      RowBox[{"DownValues", "[", "tensprod", "]"}], ",", " ", 
      RowBox[{"DownValues", "[", "dXb", "]"}], ",", " ", 
      RowBox[{"DownValues", "[", "dadv", "]"}], ",", " ", 
      RowBox[{"DownValues", "[", "dvdq", "]"}], ",", " ", 
      RowBox[{"DownValues", "[", "dfdv", "]"}], ",", " ", 
      RowBox[{"DownValues", "[", "dCRB", "]"}], ",", " ", 
      RowBox[{"DownValues", "[", "dICdq", "]"}], ",", " ", 
      RowBox[{"DownValues", "[", "dXB", "]"}], ",", " ", 
      RowBox[{"DownValues", "[", "AdX", "]"}], ",", " ", 
      RowBox[{"DownValues", "[", "AdXB", "]"}], ",", " ", 
      RowBox[{"DownValues", "[", "dLTDL", "]"}], ",", " ", 
      RowBox[{"DownValues", "[", "dMinvx", "]"}], ",", " ", 
      RowBox[{"DownValues", "[", "dLTx", "]"}], ",", " ", 
      RowBox[{"DownValues", "[", "Lx", "]"}], ",", " ", 
      RowBox[{"DownValues", "[", "LTx", "]"}], ",", " ", 
      RowBox[{"DownValues", "[", "dLx", "]"}], ",", " ", 
      RowBox[{"DownValues", "[", "P", "]"}], ",", " ", 
      RowBox[{"DownValues", "[", "H", "]"}], ",", " ", 
      RowBox[{"DownValues", "[", "Josim", "]"}], ",", " ", 
      RowBox[{"DownValues", "[", "YdYD", "]"}], ",", " ", 
      RowBox[{"DownValues", "[", "OSIM", "]"}], ",", " ", 
      RowBox[{"DownValues", "[", "Lambda", "]"}], ",", " ", 
      RowBox[{"DownValues", "[", "Jx", "]"}], ",", " ", 
      RowBox[{"DownValues", "[", "JTx", "]"}], ",", " ", 
      RowBox[{"DownValues", "[", "dP", "]"}], ",", " ", 
      RowBox[{"DownValues", "[", "dH", "]"}], ",", " ", 
      RowBox[{"DownValues", "[", "dJosim", "]"}], ",", " ", 
      RowBox[{"DownValues", "[", "AdXb", "]"}], ",", " ", 
      RowBox[{"DownValues", "[", "dYdYD", "]"}], ",", " ", 
      RowBox[{"DownValues", "[", "dOSIM", "]"}], ",", " ", 
      RowBox[{"DownValues", "[", "dJx", "]"}], ",", " ", 
      RowBox[{"DownValues", "[", "dJTx", "]"}], ",", " ", 
      RowBox[{"DownValues", "[", "JX", "]"}], ",", " ", 
      RowBox[{"DownValues", "[", "JTX", "]"}]}], "]"}], "]"}]}], 
  ";"}]}], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.603149330490893*^9, 3.603149332954015*^9}, {
   3.6031531725788975`*^9, 3.603153221650704*^9}, {3.6031534019460354`*^9, 
   3.6031534299966383`*^9}, {3.603153519085744*^9, 3.6031535253210974`*^9}, {
   3.603153557385933*^9, 3.6031535579949665`*^9}, {3.603153600069378*^9, 
   3.6031536941647663`*^9}, {3.603153772140236*^9, 3.603153772553257*^9}, {
   3.6031538965243587`*^9, 3.6031539823302684`*^9}, {3.6031541011970754`*^9, 
   3.603154110948634*^9}, {3.603154142869462*^9, 3.6031542325886183`*^9}, {
   3.6031542914789715`*^9, 3.603154340350772*^9}, {3.6031543973970375`*^9, 
   3.6031544054115105`*^9}, {3.6031544423606124`*^9, 
   3.6031544451177864`*^9}, {3.6031544994568825`*^9, 3.603154786568325*^9}, {
   3.60315482256539*^9, 3.6031548668059177`*^9}, {3.6031549584171658`*^9, 
   3.6031549738150473`*^9}, {3.603155061254054*^9, 3.603155081672228*^9}, {
   3.6031551473819866`*^9, 3.603155158559623*^9}, {3.6031552016770964`*^9, 
   3.603155234109953*^9}, 3.603155281678677*^9, {3.6031554040736866`*^9, 
   3.603155415869362*^9}, {3.6031556468635874`*^9, 3.603155649162721*^9}, {
   3.603156557116717*^9, 3.603156594645867*^9}, {3.6031567357649455`*^9, 
   3.6031567894850245`*^9}, {3.603156921473586*^9, 3.603156923451696*^9}, {
   3.603156972437502*^9, 3.6031570165800266`*^9}, {3.6031570498229327`*^9, 
   3.603157065032804*^9}, {3.6031571141286154`*^9, 3.6031571424582567`*^9}, {
   3.6031572271710896`*^9, 3.603157234603535*^9}, {3.603157350109129*^9, 
   3.6031574062273436`*^9}, {3.6031574575412855`*^9, 3.603157458967377*^9}, {
   3.6031577297808723`*^9, 3.6031577864241123`*^9}, {3.6031587003674545`*^9, 
   3.603158706709818*^9}, {3.603161573911677*^9, 3.603161806290971*^9}, {
   3.603161845834235*^9, 3.603161879849183*^9}, {3.603162086269005*^9, 
   3.6031620967286034`*^9}, {3.6031621620863457`*^9, 
   3.6031622581388474`*^9}, {3.603162288876609*^9, 3.6031623520982313`*^9}, 
   3.603162449104783*^9, {3.6031625320475326`*^9, 3.603162538372896*^9}, {
   3.6031625801712894`*^9, 3.60316264118678*^9}, {3.6031626810710683`*^9, 
   3.6031626894305487`*^9}, {3.6031627240805297`*^9, 
   3.6031627365412426`*^9}, {3.6031627739063826`*^9, 
   3.6031628083613567`*^9}, {3.603162880528488*^9, 3.6031629231199474`*^9}, {
   3.6031631201102066`*^9, 3.603163155667246*^9}, {3.603163241910184*^9, 
   3.603163247392498*^9}, {3.603163405096529*^9, 3.6031634837860355`*^9}, {
   3.60316366861462*^9, 3.603163693889067*^9}, {3.6031644987241573`*^9, 
   3.603164501253302*^9}, {3.6031646311167393`*^9, 3.6031647286123223`*^9}, {
   3.6031648272569714`*^9, 3.6031650597972884`*^9}, {3.6031651894307117`*^9, 
   3.603165195489058*^9}, {3.6031653052303433`*^9, 3.603165310957674*^9}, {
   3.6031653727232265`*^9, 3.6031654039839983`*^9}, {3.6031656331621227`*^9, 
   3.6031656363343077`*^9}, {3.603165693608588*^9, 3.603165718868044*^9}, {
   3.6031659735386143`*^9, 3.6031660057884617`*^9}, {3.603166042012555*^9, 
   3.6031660890062275`*^9}, {3.603166130494603*^9, 3.603166156429088*^9}, 
   3.603166236556677*^9, {3.6031664383842354`*^9, 3.603166453556117*^9}, {
   3.6031664984206724`*^9, 3.603166499120713*^9}, {3.6031667511931486`*^9, 
   3.6031667887883015`*^9}, {3.603166825599409*^9, 3.6031668721670947`*^9}, {
   3.603167216406802*^9, 3.6031672447664104`*^9}, {3.60316753284191*^9, 
   3.6031675662688437`*^9}, {3.603167702275614*^9, 3.603167761726015*^9}, {
   3.6031694106784477`*^9, 3.603169424055215*^9}, {3.603169566930395*^9, 
   3.6031695672994146`*^9}, {3.6031696230666103`*^9, 
   3.6031696232016172`*^9}, {3.603169724795436*^9, 3.6031697249614644`*^9}, {
   3.6031698128494782`*^9, 3.603169812985487*^9}, {3.6031698831085033`*^9, 
   3.603169883316532*^9}, {3.6031700337561293`*^9, 3.6031700355122547`*^9}, {
   3.603170128837593*^9, 3.603170132011756*^9}, {3.603170245561259*^9, 
   3.6031702457112675`*^9}, {3.6031947386942053`*^9, 3.6031947414303617`*^9}, 
   3.603194779041516*^9, {3.603425525303406*^9, 3.6034255375441103`*^9}, {
   3.6034255959884524`*^9, 3.603425625111125*^9}, {3.6034266900491104`*^9, 
   3.6034266966134863`*^9}, {3.6034290163103275`*^9, 
   3.6034290212646112`*^9}, {3.6034290973599687`*^9, 3.603429113800911*^9}, {
   3.603601385703488*^9, 3.603601417721317*^9}, {3.603601461799841*^9, 
   3.603601481925994*^9}, 3.6036037369711323`*^9, {3.60367709798151*^9, 
   3.603677099539603*^9}, {3.6036771491734433`*^9, 3.6036771711407037`*^9}, {
   3.6036772500042367`*^9, 3.603677252499363*^9}, {3.6036783570366125`*^9, 
   3.6036783618998938`*^9}, {3.6036786340924816`*^9, 
   3.6036786470752287`*^9}, {3.6047670914861603`*^9, 3.604767108763152*^9}, {
   3.6047671438161736`*^9, 3.6047671580179744`*^9}, {3.604767211998065*^9, 
   3.6047672415307736`*^9}, {3.604767329380787*^9, 3.6047673697991014`*^9}, {
   3.6047674824545527`*^9, 3.6047674954543066`*^9}, {3.604767663760936*^9, 
   3.6047676699532895`*^9}, {3.604769779993124*^9, 3.6047697843203726`*^9}, {
   3.604770218218218*^9, 3.60477021856124*^9}, 3.604770672075211*^9, {
   3.6047710096595435`*^9, 3.6047710101015687`*^9}, {3.604771526744153*^9, 
   3.604771536236703*^9}, {3.604840200421238*^9, 3.604840202343109*^9}, {
   3.604840760797332*^9, 3.6048407617192073`*^9}, {3.6051346366150713`*^9, 
   3.60513473406839*^9}, {3.605134920115624*^9, 3.6051349266625133`*^9}, {
   3.605134957037571*^9, 3.6051349607719536`*^9}, {3.605135116006633*^9, 
   3.605135167506733*^9}, {3.605135317358686*^9, 3.6051353278118305`*^9}, {
   3.605135400561973*^9, 3.605135420124525*^9}, {3.605135513452819*^9, 
   3.6051355148590713`*^9}, {3.6051447672648945`*^9, 
   3.6051447936243277`*^9}, {3.605146927198143*^9, 3.60514693837006*^9}, {
   3.6051470676515427`*^9, 3.605147070104684*^9}, {3.605147535056645*^9, 
   3.6051475386816664`*^9}, {3.6051477055882287`*^9, 3.60514770621323*^9}, {
   3.605147897713605*^9, 3.605147945057461*^9}, {3.6051496094044533`*^9, 
   3.6051496164201117`*^9}, {3.6152092972288694`*^9, 3.615209297244495*^9}, {
   3.6153297280734706`*^9, 3.615329759776656*^9}, {3.615330256805851*^9, 
   3.6153303196340914`*^9}, {3.61533046000937*^9, 3.6153304767906528`*^9}, {
   3.6153305517283*^9, 3.6153305560720606`*^9}, {3.6153306086815367`*^9, 
   3.6153306117752934`*^9}, {3.61533064615036*^9, 3.6153306542910004`*^9}, {
   3.6153307350724106`*^9, 3.6153307549630747`*^9}, 3.615330966083226*^9, 
   3.6153310215052075`*^9, {3.6153311339741797`*^9, 3.6153311454429464`*^9}, {
   3.6153312287524004`*^9, 3.6153313054713025`*^9}, {3.6153325143691535`*^9, 
   3.615332564744249*^9}, {3.6153326042287064`*^9, 3.615332604650581*^9}, {
   3.6153327858853106`*^9, 3.6153328551041946`*^9}, {3.6153329956200976`*^9, 
   3.615333031370165*^9}, 3.6153343447477303`*^9, {3.6153378312209663`*^9, 
   3.615337856564782*^9}, {3.6153379910806537`*^9, 3.615337999049419*^9}, {
   3.615370637305333*^9, 3.615370648492858*^9}, {3.6153742005579057`*^9, 
   3.615374201604782*^9}, {3.6153984868710194`*^9, 3.615398492011656*^9}, {
   3.622330491045998*^9, 3.6223304970453606`*^9}}]
}, Open  ]],

Cell[CellGroupData[{

Cell["Compiler", "Section",
 CellChangeTimes->{{3.5914870039053636`*^9, 3.591487004222381*^9}, {
  3.6031948693446865`*^9, 3.6031948721538477`*^9}, {3.6031949208696375`*^9, 
  3.603194921776703*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"NLinkCompile", "[", "code_", "]"}], " ", ":=", " ", 
   RowBox[{"Block", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"x", ",", " ", "u", ",", " ", "cargs", ",", " ", "ccode"}], 
      "}"}], ",", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"Precompile", "[", "]"}], ";", "\[IndentingNewLine]", 
      RowBox[{"ReleaseHold", "[", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"Hold", "[", "\[IndentingNewLine]", 
         RowBox[{"With", "[", 
          RowBox[{
           RowBox[{"WithTemplate", "[", "]"}], ",", "\[IndentingNewLine]", 
           RowBox[{"Compile", "[", 
            RowBox[{"cargs", ",", " ", "\[IndentingNewLine]", 
             RowBox[{"Block", "[", 
              RowBox[{
               RowBox[{"BlockTemplate", "[", "]"}], ",", "ccode"}], "]"}]}], 
            "\[IndentingNewLine]", "]"}]}], "\[IndentingNewLine]", "]"}], 
         "\[IndentingNewLine]", "]"}], " ", "//.", " ", 
        RowBox[{"FunctionTemplate", "[", "code", "]"}]}], 
       "\[IndentingNewLine]", "]"}]}]}], "\[IndentingNewLine]", "]"}]}], 
  ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.603149330490893*^9, 3.603149332954015*^9}, {
   3.6031531725788975`*^9, 3.603153221650704*^9}, {3.6031534019460354`*^9, 
   3.6031534299966383`*^9}, {3.603153519085744*^9, 3.6031535253210974`*^9}, {
   3.603153557385933*^9, 3.6031535579949665`*^9}, {3.603153600069378*^9, 
   3.6031536941647663`*^9}, {3.603153772140236*^9, 3.603153772553257*^9}, {
   3.6031538965243587`*^9, 3.6031539823302684`*^9}, {3.6031541011970754`*^9, 
   3.603154110948634*^9}, {3.603154142869462*^9, 3.6031542325886183`*^9}, {
   3.6031542914789715`*^9, 3.603154340350772*^9}, {3.6031543973970375`*^9, 
   3.6031544054115105`*^9}, {3.6031544423606124`*^9, 
   3.6031544451177864`*^9}, {3.6031544994568825`*^9, 3.603154786568325*^9}, {
   3.60315482256539*^9, 3.6031548668059177`*^9}, {3.6031549584171658`*^9, 
   3.6031549738150473`*^9}, {3.603155061254054*^9, 3.603155081672228*^9}, {
   3.6031551473819866`*^9, 3.603155158559623*^9}, {3.6031552016770964`*^9, 
   3.603155234109953*^9}, 3.603155281678677*^9, {3.6031554040736866`*^9, 
   3.603155415869362*^9}, {3.6031556468635874`*^9, 3.603155649162721*^9}, {
   3.603156557116717*^9, 3.603156594645867*^9}, {3.6031567357649455`*^9, 
   3.6031567894850245`*^9}, {3.603156921473586*^9, 3.603156923451696*^9}, {
   3.603156972437502*^9, 3.6031570165800266`*^9}, {3.6031570498229327`*^9, 
   3.603157065032804*^9}, {3.6031571141286154`*^9, 3.6031571424582567`*^9}, {
   3.6031572271710896`*^9, 3.603157234603535*^9}, {3.603157350109129*^9, 
   3.6031574062273436`*^9}, {3.6031574575412855`*^9, 3.603157458967377*^9}, {
   3.6031577297808723`*^9, 3.6031577864241123`*^9}, {3.6031587003674545`*^9, 
   3.603158706709818*^9}, {3.603161573911677*^9, 3.603161806290971*^9}, {
   3.603161845834235*^9, 3.603161879849183*^9}, {3.603162086269005*^9, 
   3.6031620967286034`*^9}, {3.6031621620863457`*^9, 
   3.6031622581388474`*^9}, {3.603162288876609*^9, 3.6031623520982313`*^9}, 
   3.603162449104783*^9, {3.6031625320475326`*^9, 3.603162538372896*^9}, {
   3.6031625801712894`*^9, 3.60316264118678*^9}, {3.6031626810710683`*^9, 
   3.6031626894305487`*^9}, {3.6031627240805297`*^9, 
   3.6031627365412426`*^9}, {3.6031627739063826`*^9, 
   3.6031628083613567`*^9}, {3.603162880528488*^9, 3.6031629231199474`*^9}, {
   3.6031631201102066`*^9, 3.603163155667246*^9}, {3.603163241910184*^9, 
   3.603163247392498*^9}, {3.603163405096529*^9, 3.6031634837860355`*^9}, {
   3.60316366861462*^9, 3.603163693889067*^9}, {3.6031644987241573`*^9, 
   3.603164501253302*^9}, {3.6031646311167393`*^9, 3.6031647286123223`*^9}, {
   3.6031648272569714`*^9, 3.6031650597972884`*^9}, {3.6031651894307117`*^9, 
   3.603165195489058*^9}, {3.6031653052303433`*^9, 3.603165310957674*^9}, {
   3.6031653727232265`*^9, 3.6031654039839983`*^9}, {3.6031656331621227`*^9, 
   3.6031656363343077`*^9}, {3.603165693608588*^9, 3.603165718868044*^9}, {
   3.6031659735386143`*^9, 3.6031660057884617`*^9}, {3.603166042012555*^9, 
   3.6031660890062275`*^9}, {3.603166130494603*^9, 3.603166156429088*^9}, 
   3.603166236556677*^9, {3.6031664383842354`*^9, 3.603166453556117*^9}, {
   3.6031664984206724`*^9, 3.603166499120713*^9}, {3.6031667511931486`*^9, 
   3.6031667887883015`*^9}, {3.603166825599409*^9, 3.6031668721670947`*^9}, {
   3.603167216406802*^9, 3.6031672447664104`*^9}, {3.60316753284191*^9, 
   3.6031675662688437`*^9}, {3.603167702275614*^9, 3.603167761726015*^9}, {
   3.6031694106784477`*^9, 3.603169424055215*^9}, {3.603169566930395*^9, 
   3.6031695672994146`*^9}, {3.6031696230666103`*^9, 
   3.6031696232016172`*^9}, {3.603169724795436*^9, 3.6031697249614644`*^9}, {
   3.6031698128494782`*^9, 3.603169812985487*^9}, {3.6031698831085033`*^9, 
   3.603169883316532*^9}, {3.6031700337561293`*^9, 3.6031700355122547`*^9}, {
   3.603170128837593*^9, 3.603170132011756*^9}, {3.603170245561259*^9, 
   3.6031702457112675`*^9}, {3.6031947386942053`*^9, 3.6031947414303617`*^9}, 
   3.603194779041516*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell["End Package", "Section"],

Cell[BoxData[{
 RowBox[{"End", "[", "]"}], "\[IndentingNewLine]", 
 RowBox[{"EndPackage", "[", "]"}]}], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.591486801989799*^9, 3.5914868026208353`*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"SetSystemOptions", "[", 
   RowBox[{"\"\<CompileOptions\>\"", "\[Rule]", 
    RowBox[{"\"\<CompileReportExternal\>\"", "\[Rule]", "True"}]}], "]"}], 
  ";"}]], "Input"]
}, Open  ]]
},
AutoGeneratedPackage->Automatic,
WindowSize->{496, 669},
WindowMargins->{{0, Automatic}, {Automatic, 0}},
FrontEndVersion->"10.0 for Microsoft Windows (32-bit) (September 9, 2014)",
StyleDefinitions->"Default.nb"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{}
*)
(*CellTagsIndex
CellTagsIndex->{}
*)
(*NotebookFileOutline
Notebook[{
Cell[557, 20, 2903, 57, 313, "Code",
 InitializationCell->True],
Cell[CellGroupData[{
Cell[3485, 81, 100, 1, 70, "Section"],
Cell[3588, 84, 1388, 20, 52, "Input",
 InitializationCell->True]
}, Open  ]],
Cell[CellGroupData[{
Cell[5013, 109, 157, 2, 70, "Section"],
Cell[5173, 113, 21300, 519, 2012, "Input",
 InitializationCell->True]
}, Open  ]],
Cell[CellGroupData[{
Cell[26510, 637, 155, 2, 70, "Section"],
Cell[26668, 641, 15866, 277, 1192, "Input",
 InitializationCell->True]
}, Open  ]],
Cell[CellGroupData[{
Cell[42571, 923, 199, 3, 70, "Section"],
Cell[42773, 928, 5089, 81, 272, "Input",
 InitializationCell->True]
}, Open  ]],
Cell[CellGroupData[{
Cell[47899, 1014, 30, 0, 70, "Section"],
Cell[47932, 1016, 207, 4, 52, "Input",
 InitializationCell->True],
Cell[48142, 1022, 203, 5, 72, "Input"]
}, Open  ]]
}
]
*)

(* End of internal cache information *)
